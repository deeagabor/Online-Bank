2023-02-06 00:00:59.4965|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:00:59.5237|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:00:59.5391|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:00:59.5548|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:00:59.5548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:00:59.5658|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:00:59.5658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:00:59.5658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 17.6253ms
2023-02-06 00:00:59.5826|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:00:59.5826|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 99.1829ms
2023-02-06 00:01:13.0372|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:01:13.0735|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:01:13.0846|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:01:13.0846|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:01:13.1016|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:01:13.1016|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:01:13.1111|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:01:13.1111|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 19.534ms
2023-02-06 00:01:13.1111|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:01:13.1268|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 91.3655ms
2023-02-06 00:11:05.6622|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:11:05.6723|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:11:05.6723|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:11:05.6723|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:11:05.8011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:11:05.8011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:11:05.8011|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:11:05.8154|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 129.9705ms
2023-02-06 00:11:05.8154|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:11:05.8154|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 159.9778ms
2023-02-06 00:15:44.9156|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:15:44.9522|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:15:44.9623|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:15:44.9698|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:15:44.9698|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:15:44.9698|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:15:44.9698|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:15:44.9887|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 14.2107ms
2023-02-06 00:15:44.9887|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:15:44.9887|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 80.9161ms
2023-02-06 00:16:10.3277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/2 - -
2023-02-06 00:16:10.3338|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:16:10.3459|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/2 - - - 204 - - 15.8296ms
2023-02-06 00:16:10.3459|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json;+charset=UTF-8 58
2023-02-06 00:16:10.3459|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:16:10.3459|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint '405 HTTP Method Not Supported'
2023-02-06 00:16:10.3629|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint '405 HTTP Method Not Supported'
2023-02-06 00:16:10.3629|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json;+charset=UTF-8 58 - 405 0 - 17.7453ms
2023-02-06 00:18:08.6520|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:18:08.6614|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:18:08.6614|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:18:08.6756|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:18:08.6756|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:18:08.6756|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:18:08.6897|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:18:08.6897|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 14.2309ms
2023-02-06 00:18:08.6897|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:18:08.7117|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 125.5333ms
2023-02-06 00:18:16.0591|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/2 - -
2023-02-06 00:18:16.0674|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:18:16.0674|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/2 - - - 204 - - 12.9895ms
2023-02-06 00:18:16.0816|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PATCH https://localhost:57658/api/accounts/1/deposits/2 application/json;+charset=UTF-8 58
2023-02-06 00:18:16.0816|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:18:16.1005|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.PartialUpdateDeposit (Bank.API)'
2023-02-06 00:18:16.1138|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "PartialUpdateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartialUpdateDeposit(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Bank.API.Data.Models.DepositUpdateDTO]) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:18:16.1503|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-06 00:18:16.1579|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.PartialUpdateDeposit (Bank.API) in 36.1532ms
2023-02-06 00:18:16.1579|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.PartialUpdateDeposit (Bank.API)'
2023-02-06 00:18:16.1743|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PATCH https://localhost:57658/api/accounts/1/deposits/2 application/json;+charset=UTF-8 58 - 400 319 application/problem+json;+charset=utf-8 95.5997ms
2023-02-06 00:19:02.4409|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:19:02.4409|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:19:02.4545|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:19:02.4545|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:19:02.4545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:19:02.4545|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:19:02.4796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 8.8496ms
2023-02-06 00:19:02.4862|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:19:02.4862|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 140 application/json;+charset=utf-8 49.2042ms
2023-02-06 00:31:22.3551|INFO|Bank.API.Program|Initializing application...
2023-02-06 00:31:30.2286|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (61ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 00:31:30.5797|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (107ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 00:31:30.6152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 00:31:31.0463|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (338ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 00:31:31.1792|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (110ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 00:31:31.1918|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 00:31:31.3836|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 00:31:31.3987|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 00:31:31.4559|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 00:31:31.4878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 00:31:31.5693|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 00:31:31.7755|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 00:31:31.7835|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 00:31:31.8408|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 00:31:31.8655|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 00:31:31.8761|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 00:31:31.8761|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.1');
2023-02-06 00:31:32.4862|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 00:31:34.3187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 00:31:34.5139|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 185.1894ms
2023-02-06 00:32:06.0162|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:32:06.0486|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:32:06.0672|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:32:06.1559|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:32:07.9011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (159ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:32:08.0103|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:32:08.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:32:08.4740|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 2298.9008ms
2023-02-06 00:32:08.4740|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:32:08.5038|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 2487.3818ms
2023-02-06 00:32:24.5338|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/2/deposits/2 application/json 53
2023-02-06 00:32:24.5338|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 00:32:24.5338|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:32:24.6323|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:32:24.6493|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:32:24.6715|INFO|Bank.API.Controllers.AccountsController|Deposit with id 2 wasn't found!
2023-02-06 00:32:24.6781|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-06 00:32:24.7121|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetAccount (Bank.API) in 163.0378ms
2023-02-06 00:32:24.7202|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 00:32:24.7202|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/2/deposits/2 application/json 53 - 404 161 application/problem+json;+charset=utf-8 191.6289ms
2023-02-06 00:32:34.6465|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 53
2023-02-06 00:32:34.6465|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 00:32:34.6465|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:32:34.6627|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:32:34.6627|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:32:34.6762|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.DepositDTO'.
2023-02-06 00:32:34.6935|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetAccount (Bank.API) in 22.1518ms
2023-02-06 00:32:34.7064|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 00:32:34.7064|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 53 - 200 62 application/json;+charset=utf-8 62.6761ms
2023-02-06 00:32:51.8567|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json 93
2023-02-06 00:32:51.8727|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:32:51.8773|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Int32, Bank.API.Data.Models.DepositUpdateDTO) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:32:51.9896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:32:51.9896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:32:51.9896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:32:52.1440|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Deposits] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 00:32:52.1772|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 00:32:52.1772|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API) in 299.9437ms
2023-02-06 00:32:52.1772|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:32:52.1957|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json 93 - 204 - - 336.6009ms
2023-02-06 00:32:57.4395|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 93
2023-02-06 00:32:57.4783|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 00:32:57.4873|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:32:57.5017|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:32:57.5017|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:32:57.5017|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.DepositDTO'.
2023-02-06 00:32:57.5017|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetAccount (Bank.API) in 21.1743ms
2023-02-06 00:32:57.5228|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 00:32:57.5228|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 93 - 200 63 application/json;+charset=utf-8 105.6468ms
2023-02-06 00:33:04.2445|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:33:04.2445|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:33:04.2535|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:04.2535|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:33:04.2535|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:33:04.2696|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:33:04.3386|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:33:04.3386|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 81.7869ms
2023-02-06 00:33:04.3588|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:04.3784|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 130 application/json;+charset=utf-8 123.5499ms
2023-02-06 00:33:19.9556|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/2 - -
2023-02-06 00:33:19.9742|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:33:19.9961|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/2 - - - 204 - - 30.3784ms
2023-02-06 00:33:20.0218|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json;+charset=UTF-8 57
2023-02-06 00:33:20.0218|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:33:20.0218|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:33:20.0367|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Int32, Bank.API.Data.Models.DepositUpdateDTO) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:33:20.0487|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:33:20.0487|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:33:20.0487|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:33:20.0694|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Deposits] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 00:33:20.0694|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 00:33:20.0694|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API) in 35.5958ms
2023-02-06 00:33:20.0694|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:33:20.0921|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json;+charset=UTF-8 57 - 204 - - 81.7565ms
2023-02-06 00:33:20.6579|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - -
2023-02-06 00:33:20.7010|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:33:20.7152|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:20.7195|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:33:20.7195|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-06 00:33:20.7607|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 36.5353ms
2023-02-06 00:33:20.7826|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:20.8023|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - - - 400 249 application/problem+json;+charset=utf-8 375.4185ms
2023-02-06 00:33:47.8589|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - -
2023-02-06 00:33:47.8772|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:33:47.8772|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:47.8772|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:33:47.8959|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-06 00:33:47.8959|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 6.7203ms
2023-02-06 00:33:47.9097|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:47.9097|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - - - 400 249 application/problem+json;+charset=utf-8 56.1183ms
2023-02-06 00:33:49.6556|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - -
2023-02-06 00:33:49.6802|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:33:49.6802|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:49.6802|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:33:49.7070|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-06 00:33:49.7070|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 20.6125ms
2023-02-06 00:33:49.7208|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:33:49.7208|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - - - 400 249 application/problem+json;+charset=utf-8 184.1828ms
2023-02-06 00:36:14.6757|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - -
2023-02-06 00:36:14.6894|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:36:14.6894|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:14.7207|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:36:14.7207|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-06 00:36:14.7362|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 5.5051ms
2023-02-06 00:36:14.7362|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:14.7556|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - - - 400 249 application/problem+json;+charset=utf-8 78.0879ms
2023-02-06 00:36:19.8571|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - -
2023-02-06 00:36:19.8989|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:36:19.9081|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:19.9081|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:36:19.9235|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-06 00:36:19.9235|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 5.2633ms
2023-02-06 00:36:19.9409|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:19.9585|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/null/deposits - - - 400 249 application/problem+json;+charset=utf-8 107.1940ms
2023-02-06 00:36:25.2088|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:36:25.2207|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:36:25.2207|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:25.2207|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:36:25.2207|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:36:25.2395|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:36:25.2395|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:36:25.2395|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 16.6935ms
2023-02-06 00:36:25.2564|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:25.2772|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 95.8920ms
2023-02-06 00:36:39.3676|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/1 - -
2023-02-06 00:36:39.3676|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:36:39.3853|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/1 - - - 204 - - 11.2646ms
2023-02-06 00:36:39.3853|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/1 application/json;+charset=UTF-8 60
2023-02-06 00:36:39.3912|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:36:39.3912|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:36:39.3912|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Int32, Bank.API.Data.Models.DepositUpdateDTO) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:36:39.3912|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:36:39.4096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:36:39.4096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:36:39.4096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Deposits] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 00:36:39.4249|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 00:36:39.4249|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API) in 23.2617ms
2023-02-06 00:36:39.4249|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:36:39.4422|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/1 application/json;+charset=UTF-8 60 - 204 - - 55.7127ms
2023-02-06 00:36:45.8998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:36:45.9107|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:36:45.9307|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:45.9307|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:36:45.9442|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:36:45.9442|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:36:45.9574|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:36:45.9574|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 21.2858ms
2023-02-06 00:36:45.9574|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:36:45.9835|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 130 application/json;+charset=utf-8 120.7641ms
2023-02-06 00:37:51.4511|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:37:51.4583|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:37:51.4583|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:37:51.4583|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:37:51.4746|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:37:51.5146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:37:51.5245|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:37:51.5384|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 56.4036ms
2023-02-06 00:37:51.5384|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:37:51.5498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 130 application/json;+charset=utf-8 98.6514ms
2023-02-06 00:38:01.5364|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/1 - -
2023-02-06 00:38:01.5364|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:38:01.5481|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/1/deposits/1 - - - 204 - - 24.9110ms
2023-02-06 00:38:01.5481|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/1 application/json;+charset=UTF-8 59
2023-02-06 00:38:01.5653|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:38:01.5653|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:38:01.5653|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Int32, Bank.API.Data.Models.DepositUpdateDTO) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:38:01.5798|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:38:01.5798|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:38:01.5798|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:38:01.5960|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Deposits] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 00:38:01.5960|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 00:38:01.5960|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API) in 27.7882ms
2023-02-06 00:38:01.5960|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:38:01.6203|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/1/deposits/1 application/json;+charset=UTF-8 59 - 204 - - 62.3696ms
2023-02-06 00:38:01.9659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-06 00:38:01.9659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:38:01.9738|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:38:01.9738|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:38:01.9858|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:38:01.9858|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:38:01.9858|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:38:02.0050|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 20.0169ms
2023-02-06 00:38:02.0185|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:38:02.0185|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 77.9270ms
2023-02-06 00:42:10.8808|INFO|Bank.API.Program|Initializing application...
2023-02-06 00:42:20.2520|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 00:42:20.5714|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (114ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 00:42:20.6558|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 00:42:21.2287|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (402ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 00:42:21.4046|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (173ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 00:42:21.4731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 00:42:21.7279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 00:42:21.7279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 00:42:21.7859|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 00:42:21.8106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 00:42:21.8990|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 00:42:22.0760|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 00:42:22.0839|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 00:42:22.1204|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 00:42:22.1405|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 00:42:22.1479|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 00:42:22.1479|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.1');
2023-02-06 00:42:22.4152|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 00:42:23.9525|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 00:42:24.1405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 189.6812ms
2023-02-06 00:42:32.0000|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:42:32.0325|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:42:32.0325|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:42:32.1086|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:42:32.7161|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:42:32.8936|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:42:33.1279|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 1000.9349ms
2023-02-06 00:42:33.1279|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:42:33.1538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 136 application/json;+charset=utf-8 1157.2894ms
2023-02-06 00:47:20.1149|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/1 - -
2023-02-06 00:47:20.1275|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:47:20.1275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/1 - - - 204 - - 21.4749ms
2023-02-06 00:47:20.1275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/1 application/json;+charset=UTF-8 29
2023-02-06 00:47:20.1275|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:47:20.1476|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-06 00:47:20.1679|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Bank.API.Data.Models.AccountUpdateDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:47:20.7222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (57ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:47:20.7438|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-06 00:47:20.8866|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Accounts] SET [Owner] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 00:47:20.9218|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 00:47:20.9264|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API) in 754.0885ms
2023-02-06 00:47:20.9264|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-06 00:47:20.9264|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/1 application/json;+charset=UTF-8 29 - 204 - - 794.6285ms
2023-02-06 00:47:21.1238|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:47:21.1273|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:47:21.1273|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:47:21.1273|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:47:21.1472|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:47:21.1472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:47:21.1591|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 15.965ms
2023-02-06 00:47:21.1591|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:47:21.1786|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 127 application/json;+charset=utf-8 45.2224ms
2023-02-06 00:48:10.9381|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:48:10.9441|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:48:10.9548|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:48:10.9548|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:48:10.9548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:48:10.9725|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:48:10.9725|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 14.5716ms
2023-02-06 00:48:10.9725|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:48:10.9883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 127 application/json;+charset=utf-8 45.1180ms
2023-02-06 00:48:28.4752|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/1 - -
2023-02-06 00:48:28.4899|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:48:28.4899|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/1 - - - 204 - - 29.2967ms
2023-02-06 00:48:28.4899|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/1 application/json;+charset=UTF-8 31
2023-02-06 00:48:28.5074|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:48:28.5074|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-06 00:48:28.5173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Bank.API.Data.Models.AccountUpdateDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:48:28.5173|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:48:28.5346|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-06 00:48:28.5346|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Accounts] SET [Owner] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 00:48:28.5346|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 00:48:28.5488|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API) in 26.8421ms
2023-02-06 00:48:28.5488|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-06 00:48:28.5648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/1 application/json;+charset=UTF-8 31 - 204 - - 62.6078ms
2023-02-06 00:48:28.7633|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:48:28.7773|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:48:28.7827|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:48:28.7827|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:48:28.7827|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:48:28.7982|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:48:28.7982|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 10.9183ms
2023-02-06 00:48:28.7982|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:48:28.7982|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 129 application/json;+charset=utf-8 51.9886ms
2023-02-06 00:48:59.7922|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:48:59.7997|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:48:59.7997|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:48:59.7997|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:48:59.8182|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:48:59.8182|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:48:59.8182|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 10.4551ms
2023-02-06 00:48:59.8295|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:48:59.8295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 129 application/json;+charset=utf-8 41.0357ms
2023-02-06 00:49:51.6191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:49:51.6191|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:49:51.6329|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:49:51.6329|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:49:51.6329|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:49:51.6443|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:49:51.6443|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 8.5013ms
2023-02-06 00:49:51.6443|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:49:51.6443|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 129 application/json;+charset=utf-8 37.4357ms
2023-02-06 00:50:41.2881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:50:41.2881|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:50:41.3009|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:50:41.3009|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:50:41.3195|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:50:41.3195|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:50:41.3295|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 13.5491ms
2023-02-06 00:50:41.3295|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:50:41.3295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 129 application/json;+charset=utf-8 49.5759ms
2023-02-06 00:50:53.7143|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-06 00:50:53.7414|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:50:53.7750|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:50:53.7844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 00:50:53.8011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
2023-02-06 00:50:53.8011|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:50:53.8281|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 29.0062ms
2023-02-06 00:50:53.8343|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-06 00:50:53.8567|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 129 application/json;+charset=utf-8 136.2525ms
2023-02-06 00:51:00.0881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - -
2023-02-06 00:51:00.0881|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:51:00.1020|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:51:00.1020|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:51:00.1136|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:51:00.1136|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:51:00.1413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:51:00.1413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 36.8885ms
2023-02-06 00:51:00.1413|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:51:00.1576|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - - - 200 131 application/json;+charset=utf-8 70.4668ms
2023-02-06 00:53:57.8922|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/2/deposits/4 - -
2023-02-06 00:53:57.8922|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:53:57.9101|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/2/deposits/4 - - - 204 - - 19.2030ms
2023-02-06 00:53:57.9101|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/2/deposits/4 application/json;+charset=UTF-8 52
2023-02-06 00:53:57.9101|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:53:57.9101|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:53:57.9286|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Int32, Bank.API.Data.Models.DepositUpdateDTO) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:53:57.9506|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:53:57.9668|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:53:57.9757|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 00:53:58.0134|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Deposits] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 00:53:58.0167|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 00:53:58.0167|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API) in 88.1444ms
2023-02-06 00:53:58.0167|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 00:53:58.0325|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/2/deposits/4 application/json;+charset=UTF-8 52 - 204 - - 113.5645ms
2023-02-06 00:53:58.2772|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - -
2023-02-06 00:53:58.2953|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:53:58.3001|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:53:58.3001|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:53:58.3001|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:53:58.3186|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:53:58.3186|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:53:58.3308|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 19.6208ms
2023-02-06 00:53:58.3308|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:53:58.3560|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - - - 200 122 application/json;+charset=utf-8 62.8033ms
2023-02-06 00:54:24.7008|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - -
2023-02-06 00:54:24.7342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:54:24.7667|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:54:24.7667|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:54:24.7667|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:54:24.7667|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:54:24.7667|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:54:24.7850|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 11.8908ms
2023-02-06 00:54:24.7850|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:54:24.7850|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - - - 200 122 application/json;+charset=utf-8 91.8806ms
2023-02-06 00:54:37.4743|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - -
2023-02-06 00:54:37.4743|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-06 00:54:37.4743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:54:37.4898|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 00:54:37.4898|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 00:54:37.4898|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-06 00:54:37.5017|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 00:54:37.5448|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 11.1239ms
2023-02-06 00:54:37.5784|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-06 00:54:37.6218|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - - - 200 122 application/json;+charset=utf-8 109.6534ms
2023-02-06 13:26:01.8558|INFO|Bank.API.Program|Initializing application...
2023-02-06 13:26:09.1427|ERROR|Bank.API.Program|An error occurred while migrating the database!
2023-02-06 13:26:09.7302|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 13:26:12.8810|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 13:26:13.1873|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 288.2795ms
2023-02-06 13:32:30.0969|INFO|Bank.API.Program|Initializing application...
2023-02-06 13:32:38.0983|ERROR|Bank.API.Program|An error occurred while migrating the database!
2023-02-06 13:32:38.6762|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 13:32:41.6548|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 13:32:42.0648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 313.4000ms
2023-02-06 13:36:02.1219|INFO|Bank.API.Program|Initializing application...
2023-02-06 13:36:10.0634|ERROR|Bank.API.Program|An error occurred while migrating the database!
2023-02-06 13:36:10.6609|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 13:36:13.7663|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 13:36:14.2018|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 401.3627ms
2023-02-06 13:40:58.6113|INFO|Bank.API.Program|Initializing application...
2023-02-06 13:41:15.2885|ERROR|Bank.API.Program|An error occurred while migrating the database!
2023-02-06 13:41:16.1766|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 13:41:19.3574|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 13:41:19.6924|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 318.3361ms
2023-02-06 14:17:19.1525|INFO|Bank.API.Program|Initializing application...
2023-02-06 14:17:32.4308|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (600ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 14:17:32.7419|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (257ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 14:17:32.8282|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 14:17:33.4535|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 14:17:33.4535|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-06 14:17:33.4758|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 14:17:33.4850|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AccountDTO] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(max) NULL,
    [Sum] real NOT NULL,
    [UserId] int NULL,
    CONSTRAINT [PK_AccountDTO] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccountDTO_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2023-02-06 14:17:33.4850|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [DepositDTO] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountDTOId] int NULL,
    CONSTRAINT [PK_DepositDTO] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_DepositDTO_AccountDTO_AccountDTOId] FOREIGN KEY ([AccountDTOId]) REFERENCES [AccountDTO] ([Id])
);
2023-02-06 14:17:33.5904|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (93ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 14:17:33.6164|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-06 14:17:33.6489|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 14:17:33.6555|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AccountDTO_UserId] ON [AccountDTO] ([UserId]);
2023-02-06 14:17:33.6555|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_DepositDTO_AccountDTOId] ON [DepositDTO] ([AccountDTOId]);
2023-02-06 14:17:33.6720|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 14:17:33.6970|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 14:17:33.7206|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 14:17:33.7520|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 14:17:34.0632|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (288ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 14:17:34.1845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (102ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 14:17:34.2342|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 14:17:34.3006|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 14:17:34.3006|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 14:17:34.3905|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 14:17:34.4163|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 14:17:34.5105|INFO|Microsoft.EntityFrameworkCore.Migrations|No migrations were applied. The database is already up to date.
2023-02-06 14:17:35.1223|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 14:17:37.2601|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 14:17:37.5328|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 410.8374ms
2023-02-06 14:49:03.2780|INFO|Bank.API.Program|Initializing application...
2023-02-06 14:49:22.0899|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 14:49:22.4217|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 14:49:22.4846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 14:49:22.8623|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (238ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 14:49:22.9525|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (87ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 14:49:23.1236|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 14:49:23.4252|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 14:49:23.4252|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 14:49:23.5290|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (76ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 14:49:23.5655|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 14:49:23.6204|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 14:49:23.8308|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 14:49:23.8308|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 14:49:23.8888|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 14:49:23.9123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 14:49:23.9123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 14:49:23.9244|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.1');
2023-02-06 14:49:24.5283|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 14:49:27.0725|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 14:49:27.5561|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 403.8631ms
2023-02-06 15:00:34.4517|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 93
2023-02-06 15:00:34.4620|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 15:00:34.5136|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 15:00:35.7367|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (99ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 15:00:35.8097|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 15:00:35.9273|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.DepositDTO'.
2023-02-06 15:00:36.1129|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetAccount (Bank.API) in 1579.104ms
2023-02-06 15:00:36.1129|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 15:00:36.1581|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 93 - 200 62 application/json;+charset=utf-8 1705.7832ms
2023-02-06 15:00:47.7609|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json 93
2023-02-06 15:00:47.7679|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 15:00:47.7679|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Int32, Bank.API.Data.Models.DepositUpdateDTO) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 15:00:47.9645|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 15:00:47.9719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 15:00:47.9719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 15:00:48.1809|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Deposits] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 15:00:48.2084|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 15:00:48.2084|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API) in 434.1019ms
2023-02-06 15:00:48.2084|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.UpdateDeposit (Bank.API)'
2023-02-06 15:00:48.2205|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT https://localhost:57658/api/accounts/1/deposits/2 application/json 93 - 204 - - 457.6700ms
2023-02-06 15:00:57.1031|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 93
2023-02-06 15:00:57.1031|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 15:00:57.1163|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-06 15:00:57.1163|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 15:00:57.1274|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-06 15:00:57.1274|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.DepositDTO'.
2023-02-06 15:00:57.1451|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetAccount (Bank.API) in 15.3183ms
2023-02-06 15:00:57.1451|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetAccount (Bank.API)'
2023-02-06 15:00:57.1591|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/1/deposits/2 application/json 93 - 200 63 application/json;+charset=utf-8 54.5038ms
2023-02-06 15:01:16.2430|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/1 application/json 93
2023-02-06 15:01:16.2534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccount (Bank.API)'
2023-02-06 15:01:16.2534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Boolean) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 15:01:16.2731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-06 15:01:16.2924|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-06 15:01:16.2995|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.AccountWithoutDepositsDTO'.
2023-02-06 15:01:16.2995|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccount (Bank.API) in 41.5232ms
2023-02-06 15:01:16.3209|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccount (Bank.API)'
2023-02-06 15:01:16.3209|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/1 application/json 93 - 200 45 application/json;+charset=utf-8 83.9130ms
2023-02-06 15:01:28.8168|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 PUT https://localhost:57658/api/accounts/1 application/json 69
2023-02-06 15:01:28.8168|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-06 15:01:28.8168|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Bank.API.Data.Models.AccountUpdateDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 15:01:28.8340|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-06 15:01:28.8340|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-06 15:01:28.8502|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Accounts] SET [Owner] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-06 15:01:28.8502|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-06 15:01:28.8502|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API) in 29.4096ms
2023-02-06 15:01:28.8606|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-06 15:01:28.8606|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 PUT https://localhost:57658/api/accounts/1 application/json 69 - 204 - - 46.9869ms
2023-02-06 15:01:48.7040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/1 application/json 69
2023-02-06 15:01:48.7070|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccount (Bank.API)'
2023-02-06 15:01:48.7070|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Boolean) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-06 15:01:48.7070|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-06 15:01:48.7226|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-06 15:01:48.7226|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.AccountWithoutDepositsDTO'.
2023-02-06 15:01:48.7226|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccount (Bank.API) in 15.929ms
2023-02-06 15:01:48.7363|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccount (Bank.API)'
2023-02-06 15:01:48.7363|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/1 application/json 69 - 200 46 application/json;+charset=utf-8 34.6996ms
2023-02-06 15:58:41.8854|INFO|Bank.API.Program|Initializing application...
2023-02-06 15:58:51.9396|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 15:58:55.1833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3,041ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 15:58:55.2166|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 15:58:55.5664|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (264ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 15:58:55.6706|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (102ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 15:58:55.6801|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 15:58:55.8604|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 15:58:55.8644|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 15:58:55.9090|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 15:58:55.9090|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 15:58:55.9745|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 15:58:56.1124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 15:58:56.1124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 15:58:56.1800|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 15:58:56.2107|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 15:58:56.2107|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 15:58:56.2218|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-06 15:58:56.5744|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 15:58:58.3617|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 15:58:58.5563|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 201.1634ms
2023-02-06 16:09:33.5419|INFO|Bank.API.Program|Initializing application...
2023-02-06 16:09:43.5800|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 16:09:43.7162|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 16:09:43.7441|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 16:09:44.2244|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (356ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 16:09:44.3205|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (94ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 16:09:44.4901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 16:09:44.7052|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 16:09:44.7099|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 16:09:44.7812|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 16:09:44.8240|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 16:09:44.8755|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 16:09:45.0720|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 16:09:45.0720|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 16:09:45.1170|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 16:09:45.1326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 16:09:45.1326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 16:09:45.1326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-06 16:09:45.1605|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-06 16:09:45.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-06 16:09:45.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-06 16:09:45.2102|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 16:09:45.2102|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-06 16:09:45.2102|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 16:09:45.2454|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-06 16:09:45.2454|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-06 16:09:45.2587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-06 16:09:45.2587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-06 16:09:45.7245|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 16:09:47.3356|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 16:09:47.5373|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 209.1877ms
2023-02-06 16:11:39.7507|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/users application/json 69
2023-02-06 16:11:39.7581|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUsers (Bank.API)'
2023-02-06 16:11:39.7943|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsers() on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-06 16:11:40.4462|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-06 16:11:40.5782|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.UserWithoutAccountsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-06 16:11:40.7820|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUsers (Bank.API) in 969.2698ms
2023-02-06 16:11:40.7845|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUsers (Bank.API)'
2023-02-06 16:11:40.8068|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/users application/json 69 - 200 352 application/json;+charset=utf-8 1055.8275ms
2023-02-06 17:10:40.7932|INFO|Bank.API.Program|Initializing application...
2023-02-06 17:10:50.4108|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:10:50.6436|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 17:10:50.6647|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 17:10:51.0178|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (271ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 17:10:51.0949|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (75ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 17:10:51.0949|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:10:51.3008|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 17:10:51.3052|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:10:51.3469|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 17:10:51.3693|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 17:10:51.4218|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 17:10:51.5496|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 17:10:51.5612|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 17:10:51.6259|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (62ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 17:10:51.6438|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 17:10:51.6510|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 17:10:51.6510|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-06 17:10:51.6748|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-06 17:10:51.7147|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-06 17:10:51.7147|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-06 17:10:51.7223|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:10:51.7223|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-06 17:10:51.7223|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:10:51.7481|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-06 17:10:51.7481|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-06 17:10:51.7592|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-06 17:10:51.7592|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-06 17:10:51.7592|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-06 17:10:51.8301|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-06 17:10:51.9023|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-06 17:10:51.9023|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:10:51.9023|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-06 17:10:51.9023|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:10:51.9186|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-06 17:10:51.9186|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-06 17:10:52.2943|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 17:10:53.9420|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 17:10:54.1606|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 214.7720ms
2023-02-06 17:12:07.6735|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/users/2 application/json 69
2023-02-06 17:12:07.6837|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-06 17:12:07.7353|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32, Boolean) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-06 17:12:08.8437|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-06 17:12:08.9551|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-06 17:12:08.9791|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserWithoutAccountsDTO'.
2023-02-06 17:12:09.1737|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUser (Bank.API) in 1424.3954ms
2023-02-06 17:12:09.1780|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-06 17:12:09.2105|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/users/2 application/json 69 - 200 117 application/json;+charset=utf-8 1533.9661ms
2023-02-06 17:12:24.0821|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/users/2?includeAccounts=true application/json 69
2023-02-06 17:12:24.0861|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-06 17:12:24.0861|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32, Boolean) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-06 17:12:24.4011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Admin], [t].[Email], [t].[Name], [t].[Password], [t].[Username], [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Accounts] AS [a] ON [t].[Id] = [a].[UserId]
ORDER BY [t].[Id]
2023-02-06 17:12:24.4562|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Admin], [t].[Email], [t].[Name], [t].[Password], [t].[Username], [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Accounts] AS [a] ON [t].[Id] = [a].[UserId]
ORDER BY [t].[Id]
2023-02-06 17:12:24.4617|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-06 17:12:24.4882|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUser (Bank.API) in 396.8605ms
2023-02-06 17:12:24.4904|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-06 17:12:24.4904|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/users/2?includeAccounts=true application/json 69 - 200 210 application/json;+charset=utf-8 411.9247ms
2023-02-06 17:14:12.7903|INFO|Bank.API.Program|Initializing application...
2023-02-06 17:14:18.7828|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:14:18.9278|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 17:14:18.9486|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 17:14:19.3551|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (299ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 17:14:19.4388|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (81ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 17:14:19.4388|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:14:19.6002|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 17:14:19.6002|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:14:19.6462|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 17:14:19.6591|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 17:14:19.7103|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 17:14:19.8218|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 17:14:19.8279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 17:14:19.8844|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 17:14:19.9095|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 17:14:19.9177|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 17:14:19.9177|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-06 17:14:19.9443|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-06 17:14:20.0075|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-06 17:14:20.0117|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-06 17:14:20.0117|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:14:20.0117|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-06 17:14:20.0117|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:14:20.0418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-06 17:14:20.0418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-06 17:14:20.0554|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-06 17:14:20.0554|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-06 17:14:20.0694|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-06 17:14:20.1278|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-06 17:14:20.2110|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (81ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-06 17:14:20.2110|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:14:20.2185|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-06 17:14:20.2185|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:14:20.2185|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-06 17:14:20.2185|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-06 17:14:20.5161|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 17:14:22.0925|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 17:14:22.3072|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 223.0081ms
2023-02-06 17:17:17.4667|INFO|Bank.API.Program|Initializing application...
2023-02-06 17:17:25.1909|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:17:28.3516|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3,020ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-06 17:17:28.4243|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-06 17:17:28.7949|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (283ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-06 17:17:28.8947|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (97ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-06 17:17:28.9032|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:17:29.0429|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-06 17:17:29.0429|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-06 17:17:29.0944|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-06 17:17:29.1084|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-06 17:17:29.1455|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-06 17:17:29.2803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-06 17:17:29.2803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-06 17:17:29.3231|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-06 17:17:29.3430|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-06 17:17:29.3430|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-06 17:17:29.3538|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-06 17:17:29.3790|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-06 17:17:29.4388|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-06 17:17:29.4444|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-06 17:17:29.4444|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.4444|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.4620|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.4915|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-06 17:17:29.4915|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-06 17:17:29.4915|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-06 17:17:29.5062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-06 17:17:29.5062|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-06 17:17:29.5541|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-06 17:17:29.6143|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-06 17:17:29.6143|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.6143|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.6143|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.6578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-06 17:17:29.6617|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-06 17:17:29.6617|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-06 17:17:29.6893|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.6893|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.6958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.6958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-06 17:17:29.6958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-06 17:17:29.9591|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-06 17:17:31.4819|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-06 17:17:31.8084|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 250.0610ms
