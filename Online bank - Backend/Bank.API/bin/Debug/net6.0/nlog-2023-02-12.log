2023-02-12 00:30:34.3859|INFO|Bank.API.Program|Initializing application...
2023-02-12 00:30:46.6677|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 00:30:46.8140|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 00:30:46.8568|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 00:30:47.2478|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (305ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 00:30:47.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (104ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 00:30:47.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 00:30:47.5283|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 00:30:47.5283|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 00:30:47.5770|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 00:30:47.5896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 00:30:47.6266|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 00:30:47.7783|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 00:30:47.7783|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 00:30:47.8286|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 00:30:47.8440|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 00:30:47.8440|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 00:30:47.8552|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 00:30:47.8745|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 00:30:47.9418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 00:30:47.9418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 00:30:47.9530|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 00:30:47.9530|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 00:30:47.9530|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 00:30:47.9797|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 00:30:47.9797|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 00:30:47.9797|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 00:30:47.9797|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 00:30:47.9797|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 00:30:48.0315|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 00:30:48.1040|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 00:30:48.1040|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.1040|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.1197|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.1197|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 00:30:48.1355|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 00:30:48.1355|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 00:30:48.1645|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.1676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.1676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.1676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.1676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 00:30:48.1838|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 00:30:48.2231|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.2231|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 00:30:48.2312|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 00:30:48.2697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.2890|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 00:30:48.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 00:30:48.3136|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 00:30:48.3136|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 00:30:48.3397|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.3430|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 00:30:48.3430|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 00:30:48.3782|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.3782|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.3856|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.3856|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 00:30:48.3856|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 00:30:48.4387|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 00:30:48.4387|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 00:30:48.4387|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 00:30:48.4387|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 00:30:48.4686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 00:30:48.8788|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 00:30:50.6713|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 00:30:50.8817|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 188.2919ms
2023-02-12 00:31:49.0653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/users application/json 113
2023-02-12 00:31:49.0735|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUsers (Bank.API)'
2023-02-12 00:31:49.1146|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsers() on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 00:31:49.9387|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 00:31:50.0680|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.UserWithoutAccountsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 00:31:50.2948|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUsers (Bank.API) in 1160.4873ms
2023-02-12 00:31:50.3241|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUsers (Bank.API)'
2023-02-12 00:31:50.3672|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/users application/json 113 - 200 424 application/json;+charset=utf-8 1283.3338ms
2023-02-12 00:32:05.3354|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:57658/api/users application/json 135
2023-02-12 00:32:05.3393|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.CreateUser (Bank.API)'
2023-02-12 00:32:05.3561|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateUser(Bank.API.Data.Models.UserCreationDTO) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 00:32:05.8054|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (112ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (Size = 100), @p4='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Admin], [Email], [Name], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-02-12 00:32:05.8810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 00:32:05.9343|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.CreateUser (Bank.API) in 575.6981ms
2023-02-12 00:32:05.9343|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.CreateUser (Bank.API)'
2023-02-12 00:32:05.9343|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:57658/api/users application/json 135 - 201 175 application/json;+charset=utf-8 604.3627ms
2023-02-12 00:33:06.9299|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:57658/api/login application/json 59
2023-02-12 00:33:06.9337|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 00:33:06.9337|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 00:33:06.9556|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 00:33:06.9556|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Int32'.
2023-02-12 00:33:06.9647|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 21.9173ms
2023-02-12 00:33:06.9647|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 00:33:06.9647|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:57658/api/login application/json 59 - 200 1 application/json;+charset=utf-8 42.9148ms
2023-02-12 00:34:03.5991|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/users application/json 59
2023-02-12 00:34:03.6035|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUsers (Bank.API)'
2023-02-12 00:34:03.6035|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUsers() on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 00:34:03.6035|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 00:34:03.6035|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.UserWithoutAccountsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 00:34:03.6035|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUsers (Bank.API) in 6.5574ms
2023-02-12 00:34:03.6205|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUsers (Bank.API)'
2023-02-12 00:34:03.6205|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/users application/json 59 - 200 586 application/json;+charset=utf-8 26.3507ms
2023-02-12 00:35:36.0538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:57658/api/login application/json 115
2023-02-12 00:35:36.0538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 00:35:36.0586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 00:35:36.0586|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 00:35:36.0766|INFO|Bank.API.Controllers.LoginController|User wasn't found!
2023-02-12 00:35:36.0766|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-12 00:35:36.1089|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 47.9233ms
2023-02-12 00:35:36.1089|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 00:35:36.1089|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:57658/api/login application/json 115 - 404 161 application/problem+json;+charset=utf-8 62.7392ms
2023-02-12 01:11:24.2399|INFO|Bank.API.Program|Initializing application...
2023-02-12 01:11:37.5866|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (72ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:11:37.8642|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (79ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 01:11:37.8886|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 01:11:38.3854|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (365ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 01:11:38.5088|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (121ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 01:11:38.5088|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:11:38.7119|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 01:11:38.7119|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:11:38.7798|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 01:11:38.8006|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 01:11:38.8408|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 01:11:38.9791|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 01:11:38.9791|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 01:11:39.0336|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:11:39.0571|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:11:39.0571|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 01:11:39.0667|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 01:11:39.0888|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 01:11:39.1325|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 01:11:39.1325|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 01:11:39.1325|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.1325|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.1467|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.1619|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 01:11:39.1619|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:11:39.1619|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 01:11:39.1619|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 01:11:39.1803|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 01:11:39.2365|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 01:11:39.3211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (82ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:11:39.3211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.3211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.3211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.3363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 01:11:39.3363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 01:11:39.3363|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 01:11:39.3617|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.3617|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.3689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.3689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.3689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 01:11:39.3689|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 01:11:39.4100|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.4175|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 01:11:39.4175|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 01:11:39.4541|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.5372|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:11:39.5691|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:11:39.5691|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 01:11:39.5837|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 01:11:39.6402|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.6695|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 01:11:39.6772|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 01:11:39.7069|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.7069|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.7069|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.7176|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 01:11:39.7176|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 01:11:39.7765|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 01:11:39.7765|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:11:39.7765|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 01:11:39.7889|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 01:11:39.8148|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 01:11:40.3828|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 01:11:42.2060|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 01:11:42.4226|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 214.1071ms
2023-02-12 01:11:44.8887|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:57658/api/users application/json 135
2023-02-12 01:11:44.9013|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.CreateUser (Bank.API)'
2023-02-12 01:11:44.9710|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateUser(Bank.API.Data.Models.UserCreationDTO) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 01:11:45.8513|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (104ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (Size = 100), @p4='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Admin], [Email], [Name], [Password], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-02-12 01:11:45.9390|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:11:46.1011|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.CreateUser (Bank.API) in 1111.2494ms
2023-02-12 01:11:46.1011|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.CreateUser (Bank.API)'
2023-02-12 01:11:46.1273|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:57658/api/users application/json 135 - 201 175 application/json;+charset=utf-8 1239.0827ms
2023-02-12 01:12:08.0378|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:57658/api/login application/json 113
2023-02-12 01:12:08.0378|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:12:08.0526|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:12:08.5197|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:12:08.5322|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Int32'.
2023-02-12 01:12:08.5322|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 480.0792ms
2023-02-12 01:12:08.5376|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:12:08.5376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:57658/api/login application/json 113 - 200 1 application/json;+charset=utf-8 504.9784ms
2023-02-12 01:12:55.4241|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:12:55.4394|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:12:55.4461|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 22.0352ms
2023-02-12 01:12:55.4461|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:12:55.4461|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:12:55.4461|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:12:55.4461|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:12:55.4674|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:12:55.4796|INFO|Bank.API.Controllers.LoginController|User wasn't found!
2023-02-12 01:12:55.4796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-12 01:12:55.5201|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 56.9498ms
2023-02-12 01:12:55.5201|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:12:55.5201|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 404 161 application/problem+json;+charset=utf-8 79.7321ms
2023-02-12 01:15:09.8378|INFO|Bank.API.Program|Initializing application...
2023-02-12 01:15:17.1005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:15:17.2166|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 01:15:17.2465|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 01:15:17.6888|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (335ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 01:15:17.7860|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (88ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 01:15:17.9177|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:15:18.0867|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 01:15:18.0973|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:15:18.1541|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 01:15:18.1671|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 01:15:18.2036|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 01:15:18.3724|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 01:15:18.3724|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 01:15:18.4113|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:15:18.4261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:15:18.4312|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 01:15:18.4312|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 01:15:18.4560|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 01:15:18.4973|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 01:15:18.4973|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 01:15:18.4973|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.4973|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.4973|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.5480|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 01:15:18.5570|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:15:18.5670|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 01:15:18.5670|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 01:15:18.5852|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 01:15:18.6678|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 01:15:18.7824|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (110ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:15:18.7871|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.7871|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.7871|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.7871|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 01:15:18.8028|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 01:15:18.8028|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 01:15:18.8298|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.8298|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.8374|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.8374|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.8374|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 01:15:18.8374|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 01:15:18.8669|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.8701|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 01:15:18.8701|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 01:15:18.8961|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.9089|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:15:18.9286|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:15:18.9316|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 01:15:18.9316|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 01:15:18.9634|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.9634|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 01:15:18.9634|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 01:15:18.9985|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:15:18.9985|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:15:19.0045|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:15:19.0045|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 01:15:19.0045|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 01:15:19.0483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 01:15:19.0525|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:15:19.0525|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 01:15:19.0525|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 01:15:19.0731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 01:15:19.3278|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 01:15:21.0162|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 01:15:21.2262|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 202.3397ms
2023-02-12 01:15:38.0315|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:57658/api/login application/json 118
2023-02-12 01:15:38.0387|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:15:38.1016|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:15:39.1245|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:15:39.2447|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Int32'.
2023-02-12 01:15:39.3119|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1187.3781ms
2023-02-12 01:15:39.3178|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:15:39.3556|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:57658/api/login application/json 118 - 200 1 application/json;+charset=utf-8 1321.2062ms
2023-02-12 01:15:47.6132|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:15:47.6132|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:15:47.6335|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 20.1677ms
2023-02-12 01:15:47.6335|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:15:47.6335|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:15:47.6335|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:15:47.6471|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:15:47.7407|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:15:47.7628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Int32'.
2023-02-12 01:15:47.7705|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 116.9258ms
2023-02-12 01:15:47.7705|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:15:47.7705|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 1 application/json;+charset=utf-8 139.3350ms
2023-02-12 01:22:20.2056|INFO|Bank.API.Program|Initializing application...
2023-02-12 01:22:29.5693|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:22:29.8450|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (97ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 01:22:29.8762|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 01:22:30.3742|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (329ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 01:22:30.4684|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (92ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 01:22:30.4768|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:22:30.6423|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 01:22:30.6423|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:22:30.6874|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 01:22:30.6874|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 01:22:30.7558|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 01:22:30.8806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 01:22:30.8806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 01:22:30.9790|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (90ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:22:31.0033|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:22:31.0099|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 01:22:31.0099|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 01:22:31.0363|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 01:22:31.0796|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 01:22:31.0796|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 01:22:31.0871|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.0871|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.0871|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.1198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 01:22:31.1346|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:22:31.1621|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 01:22:31.1682|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 01:22:31.1682|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 01:22:31.2424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 01:22:31.3150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:22:31.3198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.3198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.3198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.3198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 01:22:31.3198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 01:22:31.3368|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 01:22:31.3668|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.3668|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.3668|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.3846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.3846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 01:22:31.3846|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 01:22:31.4205|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.4205|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 01:22:31.4313|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 01:22:31.4614|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.4817|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:22:31.5015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:22:31.5015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 01:22:31.5081|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 01:22:31.5315|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.5315|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 01:22:31.5315|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 01:22:31.5639|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.5639|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.5852|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.5852|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 01:22:31.6025|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 01:22:31.6429|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 01:22:31.6477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:22:31.6477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 01:22:31.6477|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 01:22:31.6477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 01:22:32.0513|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 01:22:33.7086|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 01:22:33.9064|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 189.9976ms
2023-02-12 01:22:48.7544|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:22:48.7709|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:22:48.7788|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 22.0070ms
2023-02-12 01:22:48.7891|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:22:48.7891|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:22:48.7891|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:22:48.8423|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:22:49.6996|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:22:49.8094|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:22:49.9022|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1044.3303ms
2023-02-12 01:22:49.9022|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:22:49.9303|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 1138.0926ms
2023-02-12 01:23:32.4804|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:23:32.4965|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:23:32.4965|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 23.1153ms
2023-02-12 01:23:32.5110|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 104
2023-02-12 01:23:32.5110|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:23:32.5110|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:23:32.5110|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:23:32.6121|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:23:32.6121|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:23:32.6213|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 98.1956ms
2023-02-12 01:23:32.6213|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:23:32.6213|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 104 - 200 136 application/json;+charset=utf-8 117.3749ms
2023-02-12 01:28:17.4120|INFO|Bank.API.Program|Initializing application...
2023-02-12 01:28:24.9301|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (62ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:28:25.0685|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 01:28:25.0937|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 01:28:25.4328|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (246ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 01:28:25.5183|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (83ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 01:28:25.5264|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:28:25.6724|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 01:28:25.6724|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:28:25.7223|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 01:28:25.7348|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 01:28:25.7700|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 01:28:25.9184|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 01:28:25.9184|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 01:28:25.9680|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:28:25.9680|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:28:25.9887|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 01:28:25.9887|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 01:28:26.0172|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 01:28:26.0663|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 01:28:26.0663|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 01:28:26.0663|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.0777|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.0777|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.1179|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 01:28:26.1179|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:28:26.1347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 01:28:26.1347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 01:28:26.1347|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 01:28:26.2031|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 01:28:26.2922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (86ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:28:26.2922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.2922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.3076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.3076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 01:28:26.3076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 01:28:26.3076|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 01:28:26.3380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.3380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.3380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.3380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.3380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 01:28:26.3526|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 01:28:26.3701|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.3701|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 01:28:26.3701|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 01:28:26.3959|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.4142|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:28:26.4390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:28:26.4390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 01:28:26.4482|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 01:28:26.4677|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.4677|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 01:28:26.4677|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 01:28:26.5111|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.5111|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.5111|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.5111|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 01:28:26.5305|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 01:28:26.5726|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 01:28:26.5726|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:28:26.5726|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 01:28:26.5726|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 01:28:26.6056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 01:28:26.8736|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 01:28:28.6065|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 01:28:28.8407|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 234.9573ms
2023-02-12 01:28:38.0731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:28:38.0904|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:28:38.0904|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 22.7225ms
2023-02-12 01:28:38.1052|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:28:38.1052|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:28:38.1052|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:28:38.1505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:28:38.9461|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:28:39.0794|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:28:39.2008|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1034.1898ms
2023-02-12 01:28:39.2008|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:28:39.2264|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 1121.5965ms
2023-02-12 01:30:26.0186|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:30:26.0245|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:30:26.0245|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 9.2060ms
2023-02-12 01:30:26.0245|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:30:26.0437|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:30:26.0437|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:30:26.0437|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:30:26.1134|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:30:26.1134|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:30:26.1202|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 64.1025ms
2023-02-12 01:30:26.1202|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:30:26.1202|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 91.5581ms
2023-02-12 01:31:29.4866|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:31:29.4866|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:31:29.4940|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 4.8835ms
2023-02-12 01:31:29.4940|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:31:29.4940|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:31:29.5093|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:31:29.5093|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:31:29.5093|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:31:29.5238|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:31:29.5238|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 10.2679ms
2023-02-12 01:31:29.5238|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:31:29.5238|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 27.7492ms
2023-02-12 01:32:04.9489|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:32:04.9489|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:32:04.9489|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 9.9608ms
2023-02-12 01:32:04.9658|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:32:04.9658|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:32:04.9658|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:32:04.9658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:32:04.9658|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:32:04.9798|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:32:04.9798|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.0399ms
2023-02-12 01:32:04.9969|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:32:04.9969|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 33.7601ms
2023-02-12 01:32:49.4441|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:32:49.4472|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:32:49.4472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 13.8572ms
2023-02-12 01:32:49.4472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:32:49.4472|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:32:49.4472|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:32:49.4633|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:32:49.4633|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:32:49.4633|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:32:49.4633|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.0462ms
2023-02-12 01:32:49.4633|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:32:49.4808|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 23.9888ms
2023-02-12 01:33:32.1604|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:33:32.1666|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:33:32.1666|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 11.1699ms
2023-02-12 01:33:32.1834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:33:32.1834|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:33:32.1834|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:33:32.1834|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:33:32.1834|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:33:32.1979|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:33:32.1979|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 6.5394ms
2023-02-12 01:33:32.1979|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:33:32.1979|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 24.5157ms
2023-02-12 01:35:08.3185|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:35:08.3246|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:35:08.3246|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 8.8422ms
2023-02-12 01:35:08.3246|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:35:08.3401|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:35:08.3401|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:35:08.3401|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:35:08.3401|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:35:08.3543|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:35:08.3543|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.8083ms
2023-02-12 01:35:08.3543|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:35:08.3543|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 31.9542ms
2023-02-12 01:35:56.5551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:35:56.5595|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:35:56.5595|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 12.4871ms
2023-02-12 01:35:56.5723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:35:56.5723|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:35:56.5723|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:35:56.5723|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:35:56.5723|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:35:56.5897|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:35:56.5897|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 6.9001ms
2023-02-12 01:35:56.5897|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:35:56.5897|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 26.7057ms
2023-02-12 01:38:58.1532|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:38:58.1532|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:38:58.1532|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 8.5331ms
2023-02-12 01:38:58.1702|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:38:58.1702|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:38:58.1702|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:38:58.1821|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:38:58.1821|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:38:58.1821|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:38:58.1986|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.0738ms
2023-02-12 01:38:58.1986|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:38:58.2130|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 43.4569ms
2023-02-12 01:39:31.8573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:39:31.8573|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:39:31.8573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 5.1442ms
2023-02-12 01:39:31.8744|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:39:31.8744|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:39:31.8744|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:39:31.8744|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:39:31.8862|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:39:31.8862|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:39:31.8862|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 6.5605ms
2023-02-12 01:39:31.8862|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:39:31.8862|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 23.1979ms
2023-02-12 01:41:05.1833|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:41:05.1833|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:41:05.1990|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 14.3366ms
2023-02-12 01:41:05.1990|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:41:05.1990|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:41:05.1990|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:41:05.1990|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:41:05.2151|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:41:05.2151|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:41:05.2151|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 8.7285ms
2023-02-12 01:41:05.2151|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:41:05.2151|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 25.3624ms
2023-02-12 01:43:23.1970|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:43:23.2076|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:43:23.2231|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 15.8582ms
2023-02-12 01:43:23.2231|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:43:23.2309|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:43:23.2309|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:43:23.2484|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:43:23.2644|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:43:23.2644|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:43:23.2644|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 19.3666ms
2023-02-12 01:43:23.2644|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:43:23.2854|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 54.5052ms
2023-02-12 01:43:51.3547|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:43:51.3547|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:43:51.3547|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 4.8024ms
2023-02-12 01:43:51.3547|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:43:51.3697|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:43:51.3697|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:43:51.3697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:43:51.3697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:43:51.3697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:43:51.3850|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.1418ms
2023-02-12 01:43:51.3850|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:43:51.3850|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 23.2713ms
2023-02-12 01:44:49.0194|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:44:49.0194|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:44:49.0280|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 14.0638ms
2023-02-12 01:44:49.0280|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:44:49.0280|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:44:49.0280|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:44:49.0414|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:44:49.0414|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:44:49.0414|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:44:49.0414|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.8409ms
2023-02-12 01:44:49.0414|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:44:49.0887|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 24.4585ms
2023-02-12 01:44:49.3943|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 01:44:49.3943|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:44:49.4026|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 01:44:49.4204|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 01:44:49.4638|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 01:44:49.5143|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 01:44:49.5285|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 103.7046ms
2023-02-12 01:44:49.5285|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 01:44:49.5285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 178 application/json;+charset=utf-8 139.4417ms
2023-02-12 01:46:02.2402|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:46:02.2481|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:46:02.2481|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 11.2909ms
2023-02-12 01:46:02.2661|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 104
2023-02-12 01:46:02.2661|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:46:02.2661|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:46:02.2661|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:46:02.2784|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:46:02.2784|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:46:02.2784|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.3715ms
2023-02-12 01:46:02.2784|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:46:02.2942|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 104 - 200 136 application/json;+charset=utf-8 23.6298ms
2023-02-12 01:46:02.6827|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/2/accounts - -
2023-02-12 01:46:02.6827|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:46:02.6827|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:46:02.7049|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 01:46:03.2011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (109ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-12 01:46:03.2011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-12 01:46:03.2610|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 01:46:03.2610|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 556.344ms
2023-02-12 01:46:03.2610|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:46:03.2610|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/2/accounts - - - 200 90 application/json;+charset=utf-8 588.1916ms
2023-02-12 01:46:48.7147|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/2/accounts - -
2023-02-12 01:46:48.7147|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:46:48.7376|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:46:48.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 01:46:48.7551|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-12 01:46:48.7551|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-12 01:46:48.7613|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 01:46:48.7613|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 16.7882ms
2023-02-12 01:46:48.7613|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:46:48.7783|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/2/accounts - - - 200 90 application/json;+charset=utf-8 78.5884ms
2023-02-12 01:47:05.5952|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/2/accounts - -
2023-02-12 01:47:05.5952|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:47:05.6188|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:47:05.6287|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 01:47:05.6401|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-12 01:47:05.6401|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-12 01:47:05.6401|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 01:47:05.6534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 19.4484ms
2023-02-12 01:47:05.6534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:47:05.6534|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/2/accounts - - - 200 90 application/json;+charset=utf-8 70.8097ms
2023-02-12 01:47:24.3582|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/2/accounts - -
2023-02-12 01:47:24.3582|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:47:24.3582|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:47:24.3582|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 01:47:24.3735|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-12 01:47:24.3735|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-12 01:47:24.3735|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 01:47:24.3882|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 14.5798ms
2023-02-12 01:47:24.4059|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:47:24.4059|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/2/accounts - - - 200 90 application/json;+charset=utf-8 101.4444ms
2023-02-12 01:48:15.0169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/2/accounts - -
2023-02-12 01:48:15.0628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:48:15.4448|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:48:15.6121|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 01:48:15.7075|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-12 01:48:15.7564|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-12 01:48:15.9028|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 01:48:15.9251|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 290.9923ms
2023-02-12 01:48:15.9343|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 01:48:15.9575|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/2/accounts - - - 200 90 application/json;+charset=utf-8 981.5643ms
2023-02-12 01:48:32.7081|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 01:48:32.7081|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:48:32.7155|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 9.1779ms
2023-02-12 01:48:32.7155|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 01:48:32.7155|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:48:32.7155|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:48:32.7155|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 01:48:32.7321|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 01:48:32.7321|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 01:48:32.7321|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.8281ms
2023-02-12 01:48:32.7321|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 01:48:32.7474|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 27.2349ms
2023-02-12 01:48:33.2487|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 01:48:33.2487|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 01:48:33.2487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 01:48:33.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 01:48:33.2670|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 01:48:33.2670|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 01:48:33.2670|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 10.9763ms
2023-02-12 01:48:33.2786|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 01:48:33.2786|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 178 application/json;+charset=utf-8 39.2963ms
2023-02-12 01:50:10.8517|INFO|Bank.API.Program|Initializing application...
2023-02-12 01:50:18.1734|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:50:18.3209|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 01:50:18.3425|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 01:50:18.8658|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (406ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 01:50:18.9380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 01:50:18.9380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:50:19.1295|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 01:50:19.1295|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 01:50:19.2054|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 01:50:19.2259|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 01:50:19.2974|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 01:50:19.4704|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 01:50:19.4704|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 01:50:19.5036|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:50:19.5212|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:50:19.5212|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 01:50:19.5306|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 01:50:19.5557|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 01:50:19.6259|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 01:50:19.6259|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 01:50:19.6259|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.6379|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.6379|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.6671|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 01:50:19.6671|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:50:19.6671|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 01:50:19.6837|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 01:50:19.6837|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 01:50:19.7459|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 01:50:19.8222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (74ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 01:50:19.8293|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.8293|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.8650|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.8711|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 01:50:19.8711|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 01:50:19.8711|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 01:50:19.9058|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.9058|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.9058|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.9058|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.9205|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 01:50:19.9205|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 01:50:19.9459|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.9459|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 01:50:19.9520|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 01:50:19.9794|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:50:19.9944|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 01:50:20.0274|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 01:50:20.0274|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 01:50:20.0274|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 01:50:20.0607|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 01:50:20.0607|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 01:50:20.0607|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 01:50:20.0872|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:50:20.0898|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 01:50:20.0898|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 01:50:20.0898|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 01:50:20.0898|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 01:50:20.1383|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 01:50:20.1427|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:50:20.1427|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 01:50:20.1427|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 01:50:20.1671|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 01:50:20.1698|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-12 01:50:20.1909|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 01:50:20.1909|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-12 01:50:20.6051|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 01:50:22.1361|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 01:50:22.3478|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 207.1431ms
2023-02-12 17:39:09.4112|INFO|Bank.API.Program|Initializing application...
2023-02-12 17:39:20.9497|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:39:21.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 17:39:21.1624|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 17:39:21.7332|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (346ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 17:39:21.8102|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (74ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 17:39:21.8194|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:39:22.0215|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 17:39:22.0215|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:39:22.0840|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 17:39:22.1041|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 17:39:22.1606|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 17:39:22.2888|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 17:39:22.2957|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 17:39:22.3748|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (76ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:39:22.3997|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:39:22.3997|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 17:39:22.3997|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 17:39:22.4318|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 17:39:22.4862|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 17:39:22.4862|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 17:39:22.4947|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.4947|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.4947|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.5221|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 17:39:22.5404|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:39:22.5572|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 17:39:22.5572|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 17:39:22.5572|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 17:39:22.6242|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 17:39:22.7619|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (136ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:39:22.7856|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.7901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.7901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.7901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 17:39:22.8056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 17:39:22.8056|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 17:39:22.8439|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.8439|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.8514|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.8514|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.8514|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 17:39:22.8514|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 17:39:22.8844|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.8844|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 17:39:22.8922|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 17:39:22.9196|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:39:22.9427|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:39:23.0116|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:39:23.0116|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 17:39:23.0116|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 17:39:23.0478|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 17:39:23.0478|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 17:39:23.0478|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 17:39:23.0823|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:39:23.0823|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:39:23.0823|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:39:23.0913|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 17:39:23.0913|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 17:39:23.1376|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 17:39:23.1427|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:39:23.1427|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 17:39:23.1427|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 17:39:23.1763|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 17:39:23.1827|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-12 17:39:23.2021|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:39:23.2021|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-12 17:39:23.6529|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 17:39:25.5926|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 17:39:25.7790|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 186.7337ms
2023-02-12 17:40:18.6776|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 17:40:18.7036|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:40:18.7107|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 32.7499ms
2023-02-12 17:40:18.7107|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 17:40:18.7255|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:40:18.7255|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 17:40:18.8074|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 17:40:19.6499|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 17:40:19.7994|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 17:40:19.9152|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1092.132ms
2023-02-12 17:40:19.9152|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 17:40:20.1239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 1234.8492ms
2023-02-12 17:40:20.2890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 17:40:20.2890|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:40:20.2890|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:40:20.2890|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:40:20.4149|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 17:40:20.4551|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 17:40:20.4639|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 160.5912ms
2023-02-12 17:40:20.4639|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:40:20.4712|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 178 application/json;+charset=utf-8 183.9464ms
2023-02-12 17:40:51.5212|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-12 17:40:51.5269|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:40:51.5269|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 8.7296ms
2023-02-12 17:40:51.5269|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 35
2023-02-12 17:40:51.5412|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:40:51.5412|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:40:51.5412|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:40:51.9860|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (165ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-12 17:40:52.0889|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:5cf6c157-0357-406e-ae1a-a9e4c032c6ab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:5cf6c157-0357-406e-ae1a-a9e4c032c6ab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-12 17:40:52.2128|FATAL|Bank.API.Controllers.AccountsController|Exception while creating an account!
2023-02-12 17:40:52.2128|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-12 17:40:52.2241|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 668.1646ms
2023-02-12 17:40:52.2466|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:40:52.2839|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 35 - 500 - text/plain;+charset=utf-8 714.1480ms
2023-02-12 17:49:44.4717|INFO|Bank.API.Program|Initializing application...
2023-02-12 17:49:53.8552|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:49:54.0080|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 17:49:54.0338|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 17:49:54.4711|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (334ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 17:49:54.5617|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (88ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 17:49:54.5709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:49:54.7329|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 17:49:54.7434|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:49:54.7890|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 17:49:54.7890|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 17:49:54.8391|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 17:49:54.9824|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 17:49:54.9824|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 17:49:55.0363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:49:55.0539|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:49:55.0603|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 17:49:55.0603|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 17:49:55.0912|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 17:49:55.1347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 17:49:55.1347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 17:49:55.1347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.1347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.1347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.1724|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 17:49:55.1724|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:49:55.1840|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 17:49:55.1840|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 17:49:55.1840|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 17:49:55.2263|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 17:49:55.3010|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (72ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:49:55.3080|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.3080|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.3080|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.3247|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 17:49:55.3247|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 17:49:55.3247|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 17:49:55.3539|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.3539|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.3622|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.3622|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.3721|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 17:49:55.3721|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 17:49:55.4020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.4020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 17:49:55.4020|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 17:49:55.4352|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.4352|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:49:55.4616|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:49:55.4616|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 17:49:55.4616|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 17:49:55.4926|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.4926|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 17:49:55.4926|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 17:49:55.5211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.5211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.5211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.5211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 17:49:55.5211|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 17:49:55.5986|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 17:49:55.6053|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.6053|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 17:49:55.6053|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 17:49:55.6269|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 17:49:55.6269|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-12 17:49:55.6525|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:49:55.6525|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-12 17:49:55.9390|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 17:49:57.2034|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 17:49:57.4157|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 195.7541ms
2023-02-12 17:50:55.9572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-12 17:50:55.9856|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:50:55.9938|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 55.4772ms
2023-02-12 17:50:55.9938|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 48
2023-02-12 17:50:56.0103|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:50:56.0103|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:50:56.0612|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:50:56.8132|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (59ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-12 17:50:56.8862|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:55916fd9-1e38-4059-9f5b-5b0c58ec3a4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:55916fd9-1e38-4059-9f5b-5b0c58ec3a4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-12 17:50:57.0090|FATAL|Bank.API.Controllers.AccountsController|Exception while creating an account!
2023-02-12 17:50:57.0363|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-12 17:50:57.1353|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 989.5311ms
2023-02-12 17:50:57.1353|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:50:57.1564|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 48 - 500 - text/plain;+charset=utf-8 1152.5758ms
2023-02-12 17:53:18.9895|INFO|Bank.API.Program|Initializing application...
2023-02-12 17:53:25.0216|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:53:25.2642|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (87ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 17:53:25.2811|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 17:53:25.7958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (414ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 17:53:25.8692|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 17:53:25.8781|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:53:26.0233|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 17:53:26.0233|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:53:26.0814|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 17:53:26.1104|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 17:53:26.1666|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 17:53:26.3156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 17:53:26.3207|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 17:53:26.3544|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:53:26.3833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:53:26.3833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 17:53:26.3833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 17:53:26.4107|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 17:53:26.4518|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 17:53:26.4518|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 17:53:26.4600|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.4600|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.4600|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.4793|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 17:53:26.4793|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:53:26.4904|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 17:53:26.4904|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 17:53:26.4904|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 17:53:26.5506|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 17:53:26.6350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (82ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:53:26.6350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.6350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.6350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.6350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 17:53:26.6350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 17:53:26.6621|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 17:53:26.7337|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.7337|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.7337|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.7337|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.7337|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 17:53:26.7521|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 17:53:26.7873|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.7922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 17:53:26.7922|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 17:53:26.8245|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.8438|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:53:26.8587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:53:26.8587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 17:53:26.8587|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 17:53:26.8880|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.8880|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 17:53:26.8880|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 17:53:26.9146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.9187|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.9187|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.9187|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 17:53:26.9187|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 17:53:26.9596|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 17:53:26.9596|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:53:26.9675|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 17:53:26.9675|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 17:53:26.9985|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 17:53:26.9985|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-12 17:53:27.0188|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:53:27.0188|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-12 17:53:27.0248|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-12 17:53:27.0401|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-12 17:53:27.2795|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 17:53:28.6650|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 17:53:28.8676|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 198.2473ms
2023-02-12 17:53:40.6377|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts application/json 118
2023-02-12 17:53:40.6486|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:53:40.6927|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:53:41.4946|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 17:53:41.6149|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 17:53:41.8145|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 1105.3272ms
2023-02-12 17:53:41.8145|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:53:41.8361|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts application/json 118 - 200 178 application/json;+charset=utf-8 1198.4168ms
2023-02-12 17:56:02.5369|INFO|Bank.API.Program|Initializing application...
2023-02-12 17:56:10.5200|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:56:13.7093|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3,022ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-12 17:56:13.7431|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-12 17:56:14.3872|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (532ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-12 17:56:14.5126|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (120ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-12 17:56:14.5280|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:56:14.7212|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-12 17:56:14.7212|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-12 17:56:14.7878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-12 17:56:14.8040|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-12 17:56:14.8555|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-12 17:56:15.0925|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-12 17:56:15.0925|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-12 17:56:15.1476|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:56:15.1719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:56:15.1820|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-12 17:56:15.1820|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-12 17:56:15.2230|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-12 17:56:15.2833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-12 17:56:15.2833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-12 17:56:15.3349|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.3445|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.3445|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.3615|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-12 17:56:15.3615|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:56:15.3615|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-12 17:56:15.3756|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-12 17:56:15.3979|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-12 17:56:15.4637|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-12 17:56:15.5743|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (108ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-12 17:56:15.5743|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.5743|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.5743|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.5964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-12 17:56:15.6066|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-12 17:56:15.6201|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-12 17:56:15.6552|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.6552|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.6659|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.6659|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.7127|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-12 17:56:15.7127|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-12 17:56:15.7567|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.7600|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-12 17:56:15.7600|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-12 17:56:15.7931|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.8264|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-12 17:56:15.8628|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-12 17:56:15.8628|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-12 17:56:15.8701|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-12 17:56:15.9616|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.9616|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-12 17:56:15.9693|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-12 17:56:15.9961|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.9997|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.9997|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-12 17:56:15.9997|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-12 17:56:16.0110|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-12 17:56:16.0844|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-12 17:56:16.0906|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:56:16.0906|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-12 17:56:16.1066|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-12 17:56:16.1292|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-12 17:56:16.1292|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-12 17:56:16.1756|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-12 17:56:16.1805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-12 17:56:16.1805|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-12 17:56:16.2096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-12 17:56:16.6287|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-12 17:56:18.0568|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-12 17:56:18.3671|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 173.0231ms
2023-02-12 17:56:25.3035|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts application/json 118
2023-02-12 17:56:25.3123|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:56:25.3570|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:56:26.1529|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 17:56:26.2816|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 17:56:26.5271|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 1147.1223ms
2023-02-12 17:56:26.5271|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:56:26.5508|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts application/json 118 - 200 222 application/json;+charset=utf-8 1247.2307ms
2023-02-12 17:56:54.3614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:57658/api/accounts application/json 80
2023-02-12 17:56:54.3614|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:56:54.3834|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:56:54.9290|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-12 17:56:54.9781|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-12 17:56:55.0188|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 633.3874ms
2023-02-12 17:56:55.0229|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:56:55.0229|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:57658/api/accounts application/json 80 - 201 88 application/json;+charset=utf-8 664.3790ms
2023-02-12 17:57:26.3283|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts/5 application/json 80
2023-02-12 17:57:26.3283|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccount (Bank.API)'
2023-02-12 17:57:26.3413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccount(Int32, Boolean) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:57:26.6937|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-12 17:57:26.7020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-12 17:57:26.7020|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.AccountWithoutDepositsDTO'.
2023-02-12 17:57:26.7020|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccount (Bank.API) in 365.469ms
2023-02-12 17:57:26.7175|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccount (Bank.API)'
2023-02-12 17:57:26.7175|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts/5 application/json 80 - 200 53 application/json;+charset=utf-8 395.0759ms
2023-02-12 17:57:39.8504|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-12 17:57:39.8630|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:57:39.8692|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 16.7801ms
2023-02-12 17:57:39.8692|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 51
2023-02-12 17:57:39.8692|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:57:39.8692|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:57:39.8692|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:57:39.8897|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-12 17:57:39.8897|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-12 17:57:39.8897|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 13.143ms
2023-02-12 17:57:39.8991|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 17:57:39.8991|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 51 - 201 91 application/json;+charset=utf-8 29.4783ms
2023-02-12 17:58:32.5732|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts application/json 80
2023-02-12 17:58:32.5732|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:58:32.5732|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:58:32.5732|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 17:58:32.5901|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 17:58:32.5901|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 12.1895ms
2023-02-12 17:58:32.6050|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:58:32.6206|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts application/json 80 - 200 333 application/json;+charset=utf-8 34.3533ms
2023-02-12 17:59:14.3660|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 17:59:14.3698|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:59:14.3698|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:59:14.3698|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:59:14.3843|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 17:59:14.3843|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 17:59:14.3843|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.9642ms
2023-02-12 17:59:14.4018|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:59:14.4018|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 333 application/json;+charset=utf-8 49.6622ms
2023-02-12 17:59:28.0291|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/6 - -
2023-02-12 17:59:28.0291|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:59:28.0389|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/6 - - - 204 - - 17.0050ms
2023-02-12 17:59:28.0389|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 DELETE https://localhost:57658/api/accounts/6 - -
2023-02-12 17:59:28.0389|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:59:28.0389|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.DeleteAccount (Bank.API)'
2023-02-12 17:59:28.0389|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DeleteAccount(Int32) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:59:28.1066|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 17:59:28.1066|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-12 17:59:28.1383|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Accounts]
OUTPUT 1
WHERE [Id] = @p0;
2023-02-12 17:59:28.1609|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-12 17:59:28.1647|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.DeleteAccount (Bank.API) in 108.9514ms
2023-02-12 17:59:28.1647|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.DeleteAccount (Bank.API)'
2023-02-12 17:59:28.1647|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 DELETE https://localhost:57658/api/accounts/6 - - - 204 - - 128.3165ms
2023-02-12 17:59:28.8070|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 17:59:28.8070|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:59:28.8070|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:59:28.8070|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:59:28.8438|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 17:59:28.8438|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 17:59:28.9100|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 30.324ms
2023-02-12 17:59:28.9100|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:59:28.9231|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 120.0671ms
2023-02-12 17:59:35.7472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:57658/api/accounts application/json 80
2023-02-12 17:59:35.7472|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:59:35.7472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:59:35.7472|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 17:59:35.7643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 17:59:35.7643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 11.354ms
2023-02-12 17:59:35.7643|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 17:59:35.7790|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:57658/api/accounts application/json 80 - 200 276 application/json;+charset=utf-8 40.0051ms
2023-02-12 17:59:57.1467|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/5 - -
2023-02-12 17:59:57.1499|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:59:57.1499|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/5 - - - 204 - - 12.9497ms
2023-02-12 17:59:57.1650|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/5 application/json;+charset=UTF-8 36
2023-02-12 17:59:57.1650|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 17:59:57.1650|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-12 17:59:57.1650|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Bank.API.Data.Models.AccountUpdateDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 17:59:57.1846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 17:59:57.1846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-12 17:59:57.2076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Single), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Accounts] SET [Sum] = @p0, [UserId] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-02-12 17:59:57.2714|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:b81f8f7c-034a-4617-bf4a-17cd9c0fa32d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:b81f8f7c-034a-4617-bf4a-17cd9c0fa32d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-12 17:59:57.4472|FATAL|Bank.API.Controllers.AccountsController|Exception while updating deposit with id 5 from the account with id 5
2023-02-12 17:59:57.4472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-12 17:59:57.4472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API) in 273.1458ms
2023-02-12 17:59:57.4472|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-12 17:59:57.4651|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/5 application/json;+charset=UTF-8 36 - 500 - text/plain;+charset=utf-8 296.1645ms
2023-02-12 18:05:23.4249|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:05:23.4278|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:05:23.4278|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:05:23.4278|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:05:23.5687|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:05:23.5687|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:05:23.5687|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 138.8999ms
2023-02-12 18:05:23.5687|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:05:23.5687|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 156.1268ms
2023-02-12 18:06:10.1764|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:06:10.1829|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:06:10.1829|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:06:10.1966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:06:10.1966|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:06:10.1966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:06:10.1966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.8022ms
2023-02-12 18:06:10.2110|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:06:10.2110|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 40.6787ms
2023-02-12 18:06:35.7017|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:06:35.7017|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:06:35.7093|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:06:35.7093|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:06:35.7093|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:06:35.7283|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:06:35.7283|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 16.1058ms
2023-02-12 18:06:35.7405|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:06:35.7405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 52.8234ms
2023-02-12 18:06:54.2413|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:06:54.2413|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:06:54.2621|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:06:54.2621|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:06:54.2621|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:06:54.2721|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:06:54.2721|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.7208ms
2023-02-12 18:06:54.2721|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:06:54.2884|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 47.9208ms
2023-02-12 18:07:40.6589|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:07:40.6589|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:07:40.6657|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:07:40.6657|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:07:40.6657|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:07:40.6657|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:07:40.6814|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.8574ms
2023-02-12 18:07:40.6814|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:07:40.6814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 32.1402ms
2023-02-12 18:08:33.6618|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:08:33.6647|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:08:33.6647|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:08:33.6647|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:08:33.6647|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:08:33.6783|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:08:33.6783|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 9.1946ms
2023-02-12 18:08:33.6783|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:08:33.6783|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 30.5789ms
2023-02-12 18:09:10.3695|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:09:10.3695|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:09:10.3695|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:09:10.3834|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:09:10.3834|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:09:10.3834|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:09:10.3834|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.4177ms
2023-02-12 18:09:10.4022|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:09:10.4022|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 276 application/json;+charset=utf-8 40.0908ms
2023-02-12 18:14:56.6610|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/5 - -
2023-02-12 18:14:56.6644|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:14:56.6644|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/5 - - - 204 - - 7.5262ms
2023-02-12 18:14:56.6644|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:57658/api/accounts/5 application/json;+charset=UTF-8 49
2023-02-12 18:14:56.6644|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:14:56.6796|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-12 18:14:56.6796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UpdateDeposit", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateDeposit(Int32, Bank.API.Data.Models.AccountUpdateDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:14:56.7843|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:14:56.7878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-12 18:14:56.7878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Single)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Accounts] SET [Sum] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2023-02-12 18:14:56.7878|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-12 18:14:56.7878|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API) in 116.0749ms
2023-02-12 18:14:56.8036|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.UpdateDeposit (Bank.API)'
2023-02-12 18:14:56.8036|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:57658/api/accounts/5 application/json;+charset=UTF-8 49 - 204 - - 133.8683ms
2023-02-12 18:14:57.2670|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:14:57.2670|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:14:57.2760|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:14:57.2760|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:14:57.2760|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:14:57.2888|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:14:57.2888|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 9.6559ms
2023-02-12 18:14:57.2888|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:14:57.3061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 48.8763ms
2023-02-12 18:15:49.3873|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:15:49.3873|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:15:49.3962|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:15:49.3962|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:15:49.3962|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:15:49.3962|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:15:49.3962|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.8117ms
2023-02-12 18:15:49.4223|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:15:49.4223|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 40.0528ms
2023-02-12 18:16:29.4425|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 18:16:29.4454|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:16:29.4454|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 6.0674ms
2023-02-12 18:16:29.4454|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103
2023-02-12 18:16:29.4454|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:16:29.4454|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:16:29.4617|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 18:16:29.4617|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 18:16:29.4997|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 18:16:29.5071|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 42.1475ms
2023-02-12 18:16:29.5071|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:16:29.5426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103 - 200 134 application/json;+charset=utf-8 60.4557ms
2023-02-12 18:16:29.8046|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/1/accounts - -
2023-02-12 18:16:29.8046|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:16:29.8046|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 18:16:29.8046|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 18:16:29.8631|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-12 18:16:29.8798|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-12 18:16:29.9094|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:16:29.9128|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 91.6079ms
2023-02-12 18:16:29.9128|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 18:16:29.9281|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/1/accounts - - - 200 166 application/json;+charset=utf-8 159.9197ms
2023-02-12 18:16:43.7755|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:16:43.7755|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:16:43.7755|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:16:43.8009|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:16:43.8060|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:16:43.8179|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:16:43.8179|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:16:43.8179|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 23.1505ms
2023-02-12 18:16:43.8179|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:16:43.8363|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 59.5123ms
2023-02-12 18:17:37.2620|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 18:17:37.2620|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:17:37.2620|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 5.5417ms
2023-02-12 18:17:37.2620|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 18:17:37.2742|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:17:37.2742|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:17:37.2742|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 18:17:37.2742|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 18:17:37.2742|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 18:17:37.2907|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 8.0347ms
2023-02-12 18:17:37.2907|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:17:37.2907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 25.4778ms
2023-02-12 18:17:37.6329|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:17:37.6329|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:17:37.6329|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:17:37.6329|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:17:37.6472|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:17:37.6472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:17:37.6472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 8.2017ms
2023-02-12 18:17:37.6472|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:17:37.6632|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 34.4926ms
2023-02-12 18:17:45.2547|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:17:45.2751|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:17:45.2751|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:17:45.2751|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:17:45.2876|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:17:45.2876|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:17:45.2876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:17:45.2876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 11.1045ms
2023-02-12 18:17:45.2876|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:17:45.3037|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 126.7743ms
2023-02-12 18:17:52.8908|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits?period=6 - -
2023-02-12 18:17:52.8908|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:17:52.8971|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:17:52.8971|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:17:52.8971|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:17:52.9226|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__period_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Period] = @__period_1
2023-02-12 18:17:52.9226|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:17:52.9226|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 25.8784ms
2023-02-12 18:17:52.9226|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:17:52.9376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits?period=6 - - - 200 2 application/json;+charset=utf-8 46.2837ms
2023-02-12 18:18:19.7302|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:18:19.7420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:18:19.7420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:18:19.7420|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:18:19.7559|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:18:19.7559|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:18:19.7559|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:18:19.7768|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 13.7735ms
2023-02-12 18:18:19.7768|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:18:19.7768|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 118.7625ms
2023-02-12 18:20:57.6540|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:20:57.6540|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:20:57.6540|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:20:57.6655|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:20:57.8096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:20:57.8096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:20:57.8096|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:20:57.8250|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 151.6125ms
2023-02-12 18:20:57.8250|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:20:57.8250|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 176.3150ms
2023-02-12 18:21:00.2066|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:21:00.2156|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:21:00.2284|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:21:00.2396|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:21:00.2396|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:21:00.2396|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:21:00.2396|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:21:00.2396|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 11.2403ms
2023-02-12 18:21:00.3314|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:21:00.3376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 130.0078ms
2023-02-12 18:21:04.0985|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:21:04.0985|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:21:04.0985|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:21:04.0985|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:21:04.0985|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:21:04.1167|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:21:04.1167|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:21:04.1300|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 10.8123ms
2023-02-12 18:21:04.1300|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:21:04.1300|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 38.6001ms
2023-02-12 18:21:38.1716|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/4/deposits - -
2023-02-12 18:21:38.2118|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:21:38.2326|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:21:38.2446|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:21:38.2446|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:21:38.2446|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:21:38.2910|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:21:38.3014|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 49.6702ms
2023-02-12 18:21:38.3014|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:21:38.3165|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/4/deposits - - - 200 131 application/json;+charset=utf-8 143.7544ms
2023-02-12 18:24:19.0533|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:24:19.0533|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:24:19.0533|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:24:19.0659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:24:19.0659|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:24:19.0820|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:24:19.0820|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 16.3656ms
2023-02-12 18:24:19.1031|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:24:19.1031|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 62.0917ms
2023-02-12 18:24:19.4346|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:24:19.4346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:24:19.4442|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:24:19.4442|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:24:19.4442|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:24:19.4442|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:24:19.4598|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.7367ms
2023-02-12 18:24:19.4598|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:24:19.4598|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 50.4242ms
2023-02-12 18:24:25.2897|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:24:25.2897|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:24:25.2897|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:24:25.3010|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:24:25.3010|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:24:25.3162|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:24:25.3162|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:24:25.3162|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 18.3661ms
2023-02-12 18:24:25.3162|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:24:25.3348|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 44.6927ms
2023-02-12 18:25:20.0673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:25:20.0673|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:25:20.0673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:25:20.0673|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:25:20.0983|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:25:20.0983|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:25:20.0983|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:25:20.0983|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 27.9949ms
2023-02-12 18:25:20.1189|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:25:20.1473|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 67.3882ms
2023-02-12 18:25:26.6723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/3/deposits - -
2023-02-12 18:25:26.6751|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:25:26.6751|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:25:26.6751|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:25:26.6751|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:25:26.6751|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:25:26.6926|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:25:26.6926|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 12.249ms
2023-02-12 18:25:26.6926|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:25:26.6926|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/3/deposits - - - 200 132 application/json;+charset=utf-8 31.1482ms
2023-02-12 18:26:13.0225|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/3/deposits - -
2023-02-12 18:26:13.0225|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:26:13.0355|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:13.0355|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:26:13.0528|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:26:13.0528|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:26:13.0687|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:26:13.0687|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 23.7503ms
2023-02-12 18:26:13.0687|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:13.1139|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/3/deposits - - - 200 132 application/json;+charset=utf-8 67.8282ms
2023-02-12 18:26:19.7601|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/3/deposits?period=1 - -
2023-02-12 18:26:19.7601|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:26:19.7601|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:19.7699|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:26:19.7699|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:26:19.7699|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__period_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Period] = @__period_1
2023-02-12 18:26:19.7860|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:26:19.7860|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 16.3585ms
2023-02-12 18:26:19.7860|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:19.8014|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/3/deposits?period=1 - - - 200 2 application/json;+charset=utf-8 38.0944ms
2023-02-12 18:26:24.2658|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:26:24.2693|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:26:24.2693|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:24.2693|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:26:24.2879|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:26:24.2879|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:26:24.2879|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:26:24.2879|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 13.1949ms
2023-02-12 18:26:24.3016|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:24.3016|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 45.0517ms
2023-02-12 18:26:33.5191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:26:33.5191|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:26:33.5191|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:33.5191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:26:33.5191|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:26:33.5381|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:26:33.5381|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:26:33.5381|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 13.3449ms
2023-02-12 18:26:33.5613|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:26:33.5657|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 46.2166ms
2023-02-12 18:28:30.0304|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:28:30.0702|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:28:30.0809|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:28:30.0809|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:28:30.0967|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:28:30.0967|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:28:30.0967|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:28:30.0967|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 16.2234ms
2023-02-12 18:28:30.1225|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:28:30.1298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 126.8080ms
2023-02-12 18:28:30.8909|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:28:30.9295|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:28:30.9554|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:28:30.9950|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:28:31.0067|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:28:31.0067|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:28:31.0242|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:28:31.0404|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 29.4977ms
2023-02-12 18:28:31.0629|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:28:31.0887|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 276.9395ms
2023-02-12 18:29:13.9252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:29:13.9252|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:29:13.9252|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:29:13.9252|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:29:13.9252|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:29:13.9432|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:29:13.9432|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:29:13.9432|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 10.5799ms
2023-02-12 18:29:13.9568|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:29:13.9568|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 38.4637ms
2023-02-12 18:29:31.8810|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:29:31.8810|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:29:31.8810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:29:31.9084|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:29:31.9135|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:29:31.9135|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:29:31.9135|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:29:31.9268|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 12.8142ms
2023-02-12 18:29:31.9268|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:29:31.9417|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 139.4068ms
2023-02-12 18:29:32.6085|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:29:32.6167|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:29:32.6167|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:29:32.6167|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:29:32.6364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:29:32.6364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:29:32.7000|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:29:32.7544|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 73.9582ms
2023-02-12 18:29:32.7692|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:29:32.7926|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 250.2109ms
2023-02-12 18:30:09.0040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:30:09.0040|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:30:09.0040|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:30:09.0040|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:30:09.0040|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:30:09.0225|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:30:09.0225|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 8.9108ms
2023-02-12 18:30:09.0225|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:30:09.0364|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 31.7973ms
2023-02-12 18:30:22.8425|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:30:22.8508|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:30:22.8508|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:30:22.8508|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:30:22.8508|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:30:22.8657|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:30:22.8657|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 9.4097ms
2023-02-12 18:30:22.8657|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:30:22.8792|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 36.5375ms
2023-02-12 18:31:05.6341|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:31:05.6341|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:31:05.6438|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:31:05.6438|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:31:05.6438|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:31:05.6438|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:31:05.6438|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.9487ms
2023-02-12 18:31:05.6632|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:31:05.6632|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 32.0825ms
2023-02-12 18:31:31.7083|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:31:31.7083|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:31:31.7083|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:31:31.7083|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:31:31.7083|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:31:31.7232|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:31:31.7232|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.1634ms
2023-02-12 18:31:31.7232|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:31:31.7232|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 29.2068ms
2023-02-12 18:31:50.2268|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:31:50.2268|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:31:50.2268|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:31:50.2268|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:31:50.2410|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:31:50.2410|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:31:50.2410|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:31:50.2554|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 11.6088ms
2023-02-12 18:31:50.2554|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:31:50.2554|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 33.7689ms
2023-02-12 18:32:22.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:32:22.7709|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:32:22.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/5/deposits - - - 204 - - 4.4963ms
2023-02-12 18:32:22.7844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts/5/deposits application/json;+charset=UTF-8 51
2023-02-12 18:32:22.7844|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:32:22.7844|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.CreateDeposit (Bank.API)'
2023-02-12 18:32:22.7844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateDeposit(Int32, Bank.API.Data.Models.DepositCreationDTO) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:32:22.8059|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:32:22.8059|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[Id] = @__accountId_0
2023-02-12 18:32:22.8426|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Single), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Deposits] ([AccountId], [DepositSum], [Name], [Period])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2023-02-12 18:32:22.8498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.DepositDTO'.
2023-02-12 18:32:22.8498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.CreateDeposit (Bank.API) in 57.1834ms
2023-02-12 18:32:22.8498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.CreateDeposit (Bank.API)'
2023-02-12 18:32:22.8498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts/5/deposits application/json;+charset=UTF-8 51 - 201 56 application/json;+charset=utf-8 73.7712ms
2023-02-12 18:32:39.9611|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:32:39.9611|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:32:39.9611|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:32:39.9611|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:32:39.9767|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:32:39.9767|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:32:39.9767|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:32:39.9942|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 13.7388ms
2023-02-12 18:32:39.9942|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:32:40.0069|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 58 application/json;+charset=utf-8 44.1039ms
2023-02-12 18:33:03.0775|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 18:33:03.0803|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:33:03.0803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 6.3874ms
2023-02-12 18:33:03.0803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103
2023-02-12 18:33:03.0803|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:33:03.0977|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:33:03.0977|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 18:33:03.0977|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 18:33:03.0977|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 18:33:03.1114|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 8.4541ms
2023-02-12 18:33:03.1114|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:33:03.1178|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103 - 200 134 application/json;+charset=utf-8 24.0744ms
2023-02-12 18:33:03.5373|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/1/accounts - -
2023-02-12 18:33:03.5373|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:33:03.5373|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 18:33:03.5373|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-12 18:33:03.5542|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-12 18:33:03.5542|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-12 18:33:03.5542|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:33:03.6154|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 15.953ms
2023-02-12 18:33:03.6154|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-12 18:33:03.6308|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/1/accounts - - - 200 166 application/json;+charset=utf-8 104.0036ms
2023-02-12 18:33:06.0349|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:33:06.0349|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:33:06.0349|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:33:06.0349|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:33:06.0537|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:33:06.0537|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:33:06.0537|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:33:06.0537|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 10.4329ms
2023-02-12 18:33:06.0661|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:33:06.0661|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 58 application/json;+charset=utf-8 75.6805ms
2023-02-12 18:33:57.3203|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-12 18:33:57.3203|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:33:57.3203|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 5.6163ms
2023-02-12 18:33:57.3203|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-12 18:33:57.3333|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:33:57.3333|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:33:57.3333|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-12 18:33:57.3333|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-12 18:33:57.3333|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-12 18:33:57.3487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 7.6874ms
2023-02-12 18:33:57.3487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-12 18:33:57.3487|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 24.2280ms
2023-02-12 18:33:57.8632|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:33:57.8632|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:33:57.8632|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:33:57.8796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:33:57.8796|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:33:57.8796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:33:57.8796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.2847ms
2023-02-12 18:33:57.8796|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:33:57.8968|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 131.0794ms
2023-02-12 18:34:01.2760|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/4/deposits - -
2023-02-12 18:34:01.2760|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:34:01.2860|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:34:01.2860|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:34:01.2860|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:34:01.3027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:34:01.3027|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:34:01.3027|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 17.3498ms
2023-02-12 18:34:01.3027|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:34:01.3171|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/4/deposits - - - 200 131 application/json;+charset=utf-8 43.3515ms
2023-02-12 18:34:09.8328|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:34:09.8328|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:34:09.8838|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:34:09.8838|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:34:09.9124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:34:09.9124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:34:09.9124|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:34:09.9124|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 30.8871ms
2023-02-12 18:34:09.9322|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:34:09.9322|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 58 application/json;+charset=utf-8 119.0177ms
2023-02-12 18:35:09.3297|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts/5/deposits/9 - -
2023-02-12 18:35:09.3374|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:35:09.3374|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts/5/deposits/9 - - - 204 - - 16.2739ms
2023-02-12 18:35:09.3603|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 DELETE https://localhost:57658/api/accounts/5/deposits/9 - -
2023-02-12 18:35:09.3629|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:35:09.3629|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.DeleteDeposit (Bank.API)'
2023-02-12 18:35:09.3629|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "DeleteDeposit", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DeleteDeposit(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:35:09.3796|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:35:09.3796|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-12 18:35:09.3949|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__depositId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Id] = @__depositId_1
2023-02-12 18:35:09.3949|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Deposits]
OUTPUT 1
WHERE [Id] = @p0;
2023-02-12 18:35:09.3949|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing StatusCodeResult, setting HTTP status code 204
2023-02-12 18:35:09.4095|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.DeleteDeposit (Bank.API) in 33.9474ms
2023-02-12 18:35:09.4095|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.DeleteDeposit (Bank.API)'
2023-02-12 18:35:09.4095|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 DELETE https://localhost:57658/api/accounts/5/deposits/9 - - - 204 - - 55.2432ms
2023-02-12 18:35:09.7854|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - -
2023-02-12 18:35:09.7854|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:35:09.7854|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:35:09.7854|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-12 18:35:09.8008|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-12 18:35:09.8008|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-12 18:35:09.8008|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:35:09.8008|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 14.2642ms
2023-02-12 18:35:09.8008|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-12 18:35:09.8191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/5/deposits - - - 200 2 application/json;+charset=utf-8 38.2666ms
2023-02-12 18:38:17.9434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-12 18:38:17.9434|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:38:17.9434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 4.7273ms
2023-02-12 18:38:17.9434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 33
2023-02-12 18:38:17.9434|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:38:17.9596|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 18:38:17.9596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:38:17.9852|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-02-12 18:38:18.0368|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 70.2857ms
2023-02-12 18:38:18.0368|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-12 18:38:18.0368|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 33 - 400 448 application/problem+json;+charset=utf-8 87.7289ms
2023-02-12 18:41:38.5421|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:41:38.5421|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:41:38.5421|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:41:38.5421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:41:38.6955|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:41:38.6955|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:41:38.6955|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 147.7377ms
2023-02-12 18:41:38.6955|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:41:38.7265|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 198.0277ms
2023-02-12 18:41:39.3086|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:41:39.3086|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:41:39.3209|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:41:39.3209|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:41:39.3209|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:41:39.3448|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:41:39.3561|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 18.3763ms
2023-02-12 18:41:39.3561|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:41:39.3561|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 64.2482ms
2023-02-12 18:45:05.6953|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:45:05.6953|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:45:05.6953|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:45:05.6953|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:45:05.7125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:45:05.7125|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:45:05.7125|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 9.9673ms
2023-02-12 18:45:05.7260|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:45:05.7260|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 33.8637ms
2023-02-12 18:45:51.5881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:45:51.5881|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:45:51.5881|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:45:51.5881|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:45:51.6143|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:45:51.6143|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:45:51.6143|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 19.1168ms
2023-02-12 18:45:51.6143|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:45:51.6143|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 40.5307ms
2023-02-12 18:45:54.0786|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:45:54.0786|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:45:54.0876|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:45:54.0876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:45:54.0876|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:45:54.0876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:45:54.1030|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 9.2542ms
2023-02-12 18:45:54.1030|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:45:54.1030|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 30.6748ms
2023-02-12 18:46:47.9659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-12 18:46:47.9659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-12 18:46:47.9786|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:46:47.9786|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-12 18:46:47.9923|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-12 18:46:47.9923|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-12 18:46:47.9923|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 12.4143ms
2023-02-12 18:46:47.9923|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-12 18:46:48.0443|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 277 application/json;+charset=utf-8 46.7699ms
