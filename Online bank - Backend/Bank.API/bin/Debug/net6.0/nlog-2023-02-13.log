2023-02-13 16:51:27.8426|INFO|Bank.API.Program|Initializing application...
2023-02-13 16:51:37.4627|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 16:51:37.6191|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-13 16:51:37.6509|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-13 16:51:38.2087|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (425ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-13 16:51:38.2743|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-13 16:51:38.2817|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 16:51:38.4521|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-13 16:51:38.4521|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 16:51:38.5203|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-13 16:51:38.5388|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-13 16:51:38.5825|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-13 16:51:38.6953|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-13 16:51:38.7009|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-13 16:51:38.7713|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 16:51:38.7946|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 16:51:38.8012|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-13 16:51:38.8012|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-13 16:51:38.8279|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-13 16:51:38.8770|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-13 16:51:38.8770|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-13 16:51:38.8846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 16:51:38.8846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 16:51:38.8846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 16:51:38.9098|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-13 16:51:38.9098|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 16:51:38.9250|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-13 16:51:38.9297|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-13 16:51:38.9297|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-13 16:51:39.0055|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-13 16:51:39.0943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (86ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 16:51:39.0943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.0943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.0943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.1084|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-13 16:51:39.1084|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-13 16:51:39.1084|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-13 16:51:39.1405|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.1405|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.1506|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.1506|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.1506|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-13 16:51:39.1633|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-13 16:51:39.1824|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.1824|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-13 16:51:39.1824|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-13 16:51:39.2129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.2129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 16:51:39.2462|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 16:51:39.2462|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-13 16:51:39.2524|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-13 16:51:39.2680|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.2680|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-13 16:51:39.2680|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-13 16:51:39.2943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.2943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.2943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.2943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-13 16:51:39.2943|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-13 16:51:39.3370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-13 16:51:39.3430|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.3487|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-13 16:51:39.3487|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-13 16:51:39.3868|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-13 16:51:39.3868|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-13 16:51:39.4125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 16:51:39.4125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-13 16:51:39.4125|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-13 16:51:39.4390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-13 16:51:39.8439|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-13 16:51:41.7017|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-13 16:51:41.8957|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 194.3632ms
2023-02-13 17:02:02.1359|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 17:02:02.1876|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:02:02.1957|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 57.8500ms
2023-02-13 17:02:02.2087|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-13 17:02:02.2087|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:02:02.2087|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:02:02.2718|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 17:02:03.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 17:02:03.3611|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-13 17:02:03.4743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1179.8875ms
2023-02-13 17:02:03.4743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:02:03.5443|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 1303.5395ms
2023-02-13 17:02:03.8880|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 17:02:03.8880|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:02:03.8960|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:02:03.8960|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 17:02:04.0014|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 17:02:04.0357|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 17:02:04.0357|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 137.3358ms
2023-02-13 17:02:04.0357|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:02:04.0502|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 162.1963ms
2023-02-13 17:02:15.6456|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 17:02:15.6456|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:02:15.6456|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 5.1322ms
2023-02-13 17:02:15.6456|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-13 17:02:15.6456|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:02:15.6456|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:02:15.6620|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 17:02:15.6620|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 17:02:15.6620|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-13 17:02:15.6783|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 13.0575ms
2023-02-13 17:02:15.6783|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:02:15.6783|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 30.4779ms
2023-02-13 17:02:15.9697|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 17:02:15.9697|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:02:15.9774|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:02:15.9906|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 17:02:15.9906|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 17:02:16.0082|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 17:02:16.0082|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 17.9215ms
2023-02-13 17:02:16.0082|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:02:16.0292|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 58.7828ms
2023-02-13 17:28:13.5012|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 17:28:13.5256|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:28:13.5674|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:28:13.6344|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 17:28:15.7909|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 17:28:15.7909|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 17:28:15.7909|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 2163.6361ms
2023-02-13 17:28:15.8066|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:28:15.8066|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 2331.3161ms
2023-02-13 17:29:10.8006|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 17:29:10.8031|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:29:10.8031|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:29:10.8031|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 17:29:10.8031|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 17:29:10.8031|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 17:29:10.8262|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.513ms
2023-02-13 17:29:10.8262|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:29:10.8353|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 32.0547ms
2023-02-13 17:29:19.3881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 17:29:19.3881|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:29:19.3881|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:29:19.3969|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 17:29:19.3969|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 17:29:19.3969|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 17:29:19.4112|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 10.2971ms
2023-02-13 17:29:19.4112|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 17:29:19.4112|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 30.5098ms
2023-02-13 17:29:36.1773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 17:29:36.1773|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:29:36.1773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 5.6182ms
2023-02-13 17:29:36.1773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-13 17:29:36.1773|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:29:36.1944|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:29:36.2311|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 17:29:36.2391|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 17:29:36.2391|INFO|Bank.API.Controllers.LoginController|User wasn't found!
2023-02-13 17:29:36.2571|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-13 17:29:36.2944|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 58.9061ms
2023-02-13 17:29:36.2944|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:29:36.3048|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 404 161 application/problem+json;+charset=utf-8 116.2462ms
2023-02-13 17:29:41.6199|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 17:29:41.6199|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:29:41.6199|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 15.5282ms
2023-02-13 17:29:41.6314|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-13 17:29:41.6314|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:29:41.6314|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:29:41.6314|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 17:29:41.6314|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 17:29:41.6481|INFO|Bank.API.Controllers.LoginController|User wasn't found!
2023-02-13 17:29:41.6481|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-13 17:29:41.6481|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 10.1229ms
2023-02-13 17:29:41.6481|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:29:41.6623|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 404 161 application/problem+json;+charset=utf-8 30.1598ms
2023-02-13 17:31:47.3416|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 17:31:47.3416|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:31:47.3416|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 5.9164ms
2023-02-13 17:31:47.3491|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 98
2023-02-13 17:31:47.3491|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 17:31:47.3491|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:31:47.3491|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 17:31:47.3491|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 17:31:47.3491|INFO|Bank.API.Controllers.LoginController|User wasn't found!
2023-02-13 17:31:47.3491|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-13 17:31:47.3745|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 11.0731ms
2023-02-13 17:31:47.3745|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 17:31:47.3860|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 98 - 404 161 application/problem+json;+charset=utf-8 32.1920ms
2023-02-13 17:50:50.5568|INFO|Bank.API.Program|Initializing application...
2023-02-13 17:50:59.6150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (73ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 17:50:59.7550|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-13 17:50:59.7838|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-13 17:51:00.1953|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (334ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-13 17:51:00.2803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-13 17:51:00.2976|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 17:51:00.4663|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-13 17:51:00.4663|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 17:51:00.5191|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-13 17:51:00.5431|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-13 17:51:00.5946|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-13 17:51:00.7355|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-13 17:51:00.7355|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-13 17:51:00.7974|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 17:51:00.8135|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 17:51:00.8198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-13 17:51:00.8198|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-13 17:51:00.8480|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-13 17:51:00.8914|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-13 17:51:00.8914|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-13 17:51:00.8914|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 17:51:00.8914|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 17:51:00.9061|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 17:51:00.9257|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-13 17:51:00.9257|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 17:51:00.9257|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-13 17:51:00.9409|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-13 17:51:00.9409|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-13 17:51:01.0038|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-13 17:51:01.0868|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 17:51:01.0868|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.0868|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.0868|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.1043|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-13 17:51:01.1043|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-13 17:51:01.1043|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-13 17:51:01.1302|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.1302|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.1302|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.1302|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.1447|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-13 17:51:01.1587|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-13 17:51:01.1954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.1954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-13 17:51:01.1954|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-13 17:51:01.2488|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.2679|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 17:51:01.2877|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 17:51:01.2877|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-13 17:51:01.2877|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-13 17:51:01.3148|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.3148|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-13 17:51:01.3204|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-13 17:51:01.3204|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.3204|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.3434|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.3481|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-13 17:51:01.3481|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-13 17:51:01.3937|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-13 17:51:01.4001|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.4001|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-13 17:51:01.4001|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-13 17:51:01.4279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-13 17:51:01.4279|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-13 17:51:01.4483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 17:51:01.4483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-13 17:51:01.4483|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-13 17:51:01.4483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-13 17:51:01.8973|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-13 17:51:03.2742|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-13 17:51:03.4851|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 214.7870ms
2023-02-13 18:19:35.8262|INFO|Bank.API.Program|Initializing application...
2023-02-13 18:19:44.0462|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (61ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:19:44.1776|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-13 18:19:44.2076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-13 18:19:44.7059|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (349ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-13 18:19:44.8036|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (94ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-13 18:19:44.8146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:19:45.0275|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-13 18:19:45.0275|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:19:45.0991|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-13 18:19:45.1128|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-13 18:19:45.1505|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-13 18:19:45.3578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-13 18:19:45.3665|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-13 18:19:45.4265|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 18:19:45.4455|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 18:19:45.4455|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-13 18:19:45.4455|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-13 18:19:45.4877|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-13 18:19:45.5737|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-13 18:19:45.5737|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-13 18:19:45.5845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.5845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.5845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.6166|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-13 18:19:45.6166|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 18:19:45.6166|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-13 18:19:45.6166|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-13 18:19:45.6364|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-13 18:19:45.6939|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-13 18:19:45.8245|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 18:19:45.8245|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-13 18:19:45.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-13 18:19:45.8347|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-13 18:19:45.8751|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.8751|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.8845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.8845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.8845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-13 18:19:45.8945|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-13 18:19:45.9163|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.9163|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-13 18:19:45.9163|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-13 18:19:45.9612|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:19:45.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 18:19:46.0150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 18:19:46.0150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-13 18:19:46.0225|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-13 18:19:46.0470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-13 18:19:46.0505|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-13 18:19:46.0505|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-13 18:19:46.1094|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:19:46.1189|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:19:46.1462|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:19:46.1834|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-13 18:19:46.1834|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-13 18:19:46.2447|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-13 18:19:46.2447|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:19:46.2543|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-13 18:19:46.2543|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-13 18:19:46.2775|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-13 18:19:46.2775|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-13 18:19:46.2974|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:19:46.3006|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-13 18:19:46.3006|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-13 18:19:46.3315|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-13 18:19:46.6173|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-13 18:19:48.4322|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-13 18:19:48.7317|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 300.9233ms
2023-02-13 18:21:57.9990|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 18:21:58.0256|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:21:58.0394|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 33.6108ms
2023-02-13 18:21:58.0539|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-13 18:21:58.0539|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:21:58.0670|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 18:21:58.1147|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 18:21:59.1051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 18:21:59.2251|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-13 18:21:59.2972|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1169.9553ms
2023-02-13 18:21:59.2972|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 18:21:59.3165|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 1262.5930ms
2023-02-13 18:21:59.6240|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:21:59.6281|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:21:59.6281|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:21:59.6281|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:21:59.7326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:21:59.7853|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:21:59.7853|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 160.7686ms
2023-02-13 18:21:59.8014|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:21:59.8014|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 181.6826ms
2023-02-13 18:22:50.9460|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/7 - -
2023-02-13 18:22:50.9460|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:22:50.9460|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 6.2377ms
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32, Boolean) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:22:50.9569|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:22:51.3757|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (160ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:22:51.3847|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:22:51.4052|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:22:51.4207|INFO|Bank.API.Controllers.UsersController|User with id 7 wasn't found!
2023-02-13 18:22:51.4207|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-13 18:22:51.4659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUser (Bank.API) in 489.3911ms
2023-02-13 18:22:51.4659|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:22:51.4744|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/7 - - - 404 161 application/problem+json;+charset=utf-8 526.6734ms
2023-02-13 18:22:51.5002|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:273ba7e7-93c2-4961-a7c1-e75fcf58f47d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:273ba7e7-93c2-4961-a7c1-e75fcf58f47d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-13 18:22:51.6260|FATAL|Bank.API.Controllers.AccountsController|Exception while creating an account!
2023-02-13 18:22:51.6260|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-13 18:22:51.6328|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 649.9557ms
2023-02-13 18:22:51.6328|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:22:51.6328|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41 - 500 - text/plain;+charset=utf-8 672.1425ms
2023-02-13 18:23:13.8697|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:23:13.8885|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:23:13.9114|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/7 - -
2023-02-13 18:23:13.9114|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 28.6857ms
2023-02-13 18:23:13.9114|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:23:13.9249|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:23:13.9249|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:23:13.9249|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:23:13.9249|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32, Boolean) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-13 18:23:13.9449|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:23:13.9449|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:23:13.9580|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:23:13.9857|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:23:14.0172|INFO|Bank.API.Controllers.UsersController|User with id 7 wasn't found!
2023-02-13 18:23:14.0199|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-13 18:23:14.0199|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUser (Bank.API) in 78.4094ms
2023-02-13 18:23:14.0199|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:23:14.0199|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:23:14.0416|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/7 - - - 404 161 application/problem+json;+charset=utf-8 156.6761ms
2023-02-13 18:23:14.0600|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:273ba7e7-93c2-4961-a7c1-e75fcf58f47d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:273ba7e7-93c2-4961-a7c1-e75fcf58f47d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-13 18:23:14.1361|FATAL|Bank.API.Controllers.AccountsController|Exception while creating an account!
2023-02-13 18:23:14.1361|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-13 18:23:14.1439|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 179.314ms
2023-02-13 18:23:14.1439|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:23:14.1439|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 500 - text/plain;+charset=utf-8 229.6506ms
2023-02-13 18:24:13.8254|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:24:13.8336|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:24:13.8336|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 26.9749ms
2023-02-13 18:24:13.8736|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/7 - -
2023-02-13 18:24:13.8833|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:24:13.8833|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39
2023-02-13 18:24:13.8833|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:24:13.8951|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:24:13.8951|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32, Boolean) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-13 18:24:13.8951|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:24:13.8951|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:24:13.9157|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:24:13.9157|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:24:13.9288|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:24:13.9288|INFO|Bank.API.Controllers.UsersController|User with id 7 wasn't found!
2023-02-13 18:24:13.9288|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-13 18:24:13.9434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUser (Bank.API) in 34.6622ms
2023-02-13 18:24:13.9726|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:24:13.9726|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:a8841a87-74b2-4bae-afad-ec13470c6f3e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:a8841a87-74b2-4bae-afad-ec13470c6f3e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-13 18:24:13.9784|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/7 - - - 404 161 application/problem+json;+charset=utf-8 135.4012ms
2023-02-13 18:24:14.0458|FATAL|Bank.API.Controllers.AccountsController|Exception while creating an account!
2023-02-13 18:24:14.0458|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-13 18:24:14.0529|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 132.9728ms
2023-02-13 18:24:14.0529|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:24:14.0529|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39 - 500 - text/plain;+charset=utf-8 179.6189ms
2023-02-13 18:25:01.9537|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/7 - -
2023-02-13 18:25:01.9634|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:25:01.9634|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:25:01.9713|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:25:01.9713|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:25:01.9713|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32, Boolean) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-13 18:25:01.9713|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 21.1764ms
2023-02-13 18:25:01.9713|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41
2023-02-13 18:25:01.9880|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:25:01.9880|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:25:01.9880|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:25:01.9880|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:25:01.9880|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:25:01.9880|INFO|Bank.API.Controllers.UsersController|User with id 7 wasn't found!
2023-02-13 18:25:01.9880|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-13 18:25:02.0101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:25:02.0178|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetUser (Bank.API) in 29.853ms
2023-02-13 18:25:02.0540|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetUser (Bank.API)'
2023-02-13 18:25:02.0663|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/7 - - - 404 161 application/problem+json;+charset=utf-8 103.8963ms
2023-02-13 18:25:02.0818|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:a8841a87-74b2-4bae-afad-ec13470c6f3e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:a8841a87-74b2-4bae-afad-ec13470c6f3e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-13 18:25:02.1618|FATAL|Bank.API.Controllers.AccountsController|Exception while creating an account!
2023-02-13 18:25:02.1659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-13 18:25:02.1815|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 169.1159ms
2023-02-13 18:25:02.1815|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:25:02.2003|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41 - 500 - text/plain;+charset=utf-8 204.2619ms
2023-02-13 18:33:18.1169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:33:18.1169|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:33:18.1169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 8.3368ms
2023-02-13 18:33:18.1312|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:33:18.1312|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:33:18.1312|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:33:18.1312|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:33:19.3546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:33:19.3546|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:33:19.3546|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:33:19.3650|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:33:19.8089|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:33:19.8113|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:33:19.8671|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:33:19.8671|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:33:19.9171|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 1774.8443ms
2023-02-13 18:33:19.9171|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 547.7834ms
2023-02-13 18:33:19.9248|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:33:19.9248|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:33:19.9638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 80 application/json;+charset=utf-8 1796.8313ms
2023-02-13 18:33:19.9638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 591.5767ms
2023-02-13 18:33:26.6099|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:33:26.6222|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:33:26.6222|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:33:26.6298|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:33:26.6298|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:33:26.6298|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:33:26.6480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 10.756ms
2023-02-13 18:33:26.6480|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:33:26.6627|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 315 application/json;+charset=utf-8 65.1810ms
2023-02-13 18:33:40.1520|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:33:40.1520|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:33:40.1587|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 6.0831ms
2023-02-13 18:33:40.1587|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 45
2023-02-13 18:33:40.1587|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:33:40.1587|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:33:40.1587|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:33:40.1741|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:33:40.1741|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:33:40.1741|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.6473ms
2023-02-13 18:33:40.1741|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:33:40.2039|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 45 - 201 86 application/json;+charset=utf-8 27.1319ms
2023-02-13 18:33:46.1924|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:33:46.1924|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:33:46.2144|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:33:46.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:33:46.2407|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:33:46.2407|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:33:46.2407|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 20.7841ms
2023-02-13 18:33:46.2543|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:33:46.2543|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 367 application/json;+charset=utf-8 83.6397ms
2023-02-13 18:34:59.7280|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:34:59.7280|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:34:59.7399|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:34:59.7399|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:34:59.7399|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:34:59.7399|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:34:59.7545|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.7915ms
2023-02-13 18:34:59.7545|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:34:59.7545|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 367 application/json;+charset=utf-8 63.1833ms
2023-02-13 18:35:25.6761|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:35:25.6761|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:35:25.6761|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 12.9990ms
2023-02-13 18:35:25.6872|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:35:25.6872|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:35:25.6872|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:35:25.6872|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:35:25.6872|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:35:25.7016|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:35:25.7053|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.1932ms
2023-02-13 18:35:25.7053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:35:25.7053|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 24.7972ms
2023-02-13 18:36:24.2855|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:36:24.2855|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:36:24.2855|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 12.5187ms
2023-02-13 18:36:24.3021|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 42
2023-02-13 18:36:24.3021|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:36:24.3021|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:36:24.3021|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:36:24.3172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:36:24.3172|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:36:24.3446|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 9.9813ms
2023-02-13 18:36:24.3539|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:36:24.3539|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 42 - 201 83 application/json;+charset=utf-8 54.5381ms
2023-02-13 18:36:47.0583|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:36:47.0583|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:36:47.0583|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 5.3650ms
2023-02-13 18:36:47.0583|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:36:47.0583|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:36:47.0583|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:36:47.0757|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:36:47.0757|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:36:47.0757|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:36:47.0884|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.9283ms
2023-02-13 18:36:47.1019|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:36:47.1019|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 36.9062ms
2023-02-13 18:36:56.4330|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:36:56.4330|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:36:56.4330|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 4.9248ms
2023-02-13 18:36:56.4330|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:36:56.4451|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:36:56.4451|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:36:56.4451|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:36:56.4549|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:36:56.4549|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:36:56.4549|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.4316ms
2023-02-13 18:36:56.4549|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:36:56.4708|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 27.6538ms
2023-02-13 18:36:59.9359|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:36:59.9359|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:36:59.9494|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:36:59.9571|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:36:59.9754|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:36:59.9889|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:36:59.9889|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 32.2274ms
2023-02-13 18:37:00.0024|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:37:00.0024|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 557 application/json;+charset=utf-8 69.7113ms
2023-02-13 18:37:27.0700|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:37:27.0700|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:27.0700|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 9.5692ms
2023-02-13 18:37:27.0700|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39
2023-02-13 18:37:27.0700|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:27.0920|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:27.0920|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:37:27.0920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:37:27.0920|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:37:27.1042|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 6.2085ms
2023-02-13 18:37:27.1042|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:27.1157|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39 - 201 80 application/json;+charset=utf-8 25.3893ms
2023-02-13 18:37:38.3648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:37:38.3648|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:38.3648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 6.3635ms
2023-02-13 18:37:38.3648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 42
2023-02-13 18:37:38.3648|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:38.3648|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:38.3648|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:37:38.3648|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:37:38.3920|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:37:38.3963|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.7377ms
2023-02-13 18:37:38.3963|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:38.3963|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 42 - 201 83 application/json;+charset=utf-8 27.1879ms
2023-02-13 18:37:47.7468|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:37:47.7468|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:47.7530|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 5.7776ms
2023-02-13 18:37:47.7530|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:37:47.7530|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:47.7530|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:47.7530|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:37:47.7742|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:37:47.7742|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:37:47.7742|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 10.6256ms
2023-02-13 18:37:47.7742|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:47.7920|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 34.3798ms
2023-02-13 18:37:58.1723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:37:58.1723|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:58.1788|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 5.9592ms
2023-02-13 18:37:58.1907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:37:58.1907|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:37:58.1907|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:58.1907|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:37:58.2072|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:37:58.2072|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:37:58.2072|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 9.6133ms
2023-02-13 18:37:58.2072|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:37:58.2072|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 33.3165ms
2023-02-13 18:38:06.8113|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 18:38:06.8113|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:38:06.8113|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 5.5989ms
2023-02-13 18:38:06.8230|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 18:38:06.8230|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:38:06.8230|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:38:06.8230|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:38:06.8230|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 18:38:06.8404|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 18:38:06.8404|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 9.3256ms
2023-02-13 18:38:06.8404|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 18:38:06.8498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 28.7217ms
2023-02-13 18:38:10.4868|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:38:10.4868|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:38:10.4868|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:38:10.4868|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:38:10.5018|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:38:10.5018|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:38:10.5018|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.5349ms
2023-02-13 18:38:10.5018|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:38:10.5018|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 793 application/json;+charset=utf-8 30.3009ms
2023-02-13 18:38:30.1519|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:38:30.1519|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:38:30.1519|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:38:30.1599|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:38:30.1599|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:38:30.1599|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:38:30.1751|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 11.8654ms
2023-02-13 18:38:30.1751|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:38:30.1751|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 793 application/json;+charset=utf-8 29.0244ms
2023-02-13 18:38:41.1309|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:38:41.1309|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:38:41.1309|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:38:41.1309|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:38:41.1439|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:38:41.1439|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:38:41.1439|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.4158ms
2023-02-13 18:38:41.1439|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:38:41.1439|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 793 application/json;+charset=utf-8 28.2370ms
2023-02-13 18:39:26.3735|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:39:26.3735|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:39:26.3793|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:39:26.3793|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:39:26.3793|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:39:26.3793|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:39:26.3952|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.0315ms
2023-02-13 18:39:26.3952|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:39:26.3952|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 793 application/json;+charset=utf-8 31.9457ms
2023-02-13 18:47:09.7368|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:47:09.7368|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:47:09.7368|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:47:09.7368|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:47:09.8733|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:47:09.8733|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:47:09.8733|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 126.4504ms
2023-02-13 18:47:09.8733|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:47:09.8885|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 793 application/json;+charset=utf-8 149.2847ms
2023-02-13 18:48:59.5216|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:48:59.5216|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:48:59.5216|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:48:59.5370|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:48:59.5370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:48:59.5370|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:48:59.5493|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.068ms
2023-02-13 18:48:59.5493|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:48:59.5493|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 793 application/json;+charset=utf-8 40.6650ms
2023-02-13 18:50:49.1375|INFO|Bank.API.Program|Initializing application...
2023-02-13 18:50:57.6684|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:50:57.9350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (107ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-13 18:50:57.9686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-13 18:50:58.4406|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (385ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-13 18:50:58.5133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-13 18:50:58.5214|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:50:58.6778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-13 18:50:58.6778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:50:58.7221|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-13 18:50:58.7540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-13 18:50:58.8167|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-13 18:50:58.9420|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-13 18:50:58.9420|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-13 18:50:59.0193|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 18:50:59.0352|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 18:50:59.0352|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-13 18:50:59.0352|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-13 18:50:59.0660|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-13 18:50:59.1116|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-13 18:50:59.1116|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-13 18:50:59.1188|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.1188|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.1188|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.1390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-13 18:50:59.1390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 18:50:59.1390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-13 18:50:59.1390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-13 18:50:59.1554|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-13 18:50:59.2152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-13 18:50:59.3131|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (96ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 18:50:59.3176|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.3176|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.3176|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.3176|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-13 18:50:59.3176|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-13 18:50:59.3176|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-13 18:50:59.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-13 18:50:59.3709|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-13 18:50:59.4039|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.4095|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-13 18:50:59.4095|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-13 18:50:59.4428|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.4644|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 18:50:59.4900|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 18:50:59.4900|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-13 18:50:59.4900|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-13 18:50:59.5206|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.5235|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-13 18:50:59.5235|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-13 18:50:59.5478|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.5478|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.5535|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.5535|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-13 18:50:59.5535|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-13 18:50:59.6177|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-13 18:50:59.6177|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.6281|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-13 18:50:59.6281|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-13 18:50:59.6486|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-13 18:50:59.6486|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-13 18:50:59.6679|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:50:59.6679|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-13 18:50:59.6741|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-13 18:50:59.6741|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-13 18:51:00.0954|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-13 18:51:01.6990|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-13 18:51:01.8815|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 188.1390ms
2023-02-13 18:51:13.5403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:51:13.5589|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:51:13.5632|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:51:13.5914|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:51:14.2907|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:51:14.4157|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:51:14.6089|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 1001.5537ms
2023-02-13 18:51:14.6114|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:51:14.6338|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 1093.2475ms
2023-02-13 18:51:25.0459|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 18:51:25.0501|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:51:25.0501|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:51:25.0501|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 18:51:25.1317|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 18:51:25.1317|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:51:25.1317|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 80.4646ms
2023-02-13 18:51:25.1317|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 18:51:25.1451|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 98.7395ms
2023-02-13 18:54:51.7506|INFO|Bank.API.Program|Initializing application...
2023-02-13 18:54:59.0628|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:54:59.3128|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-13 18:54:59.3305|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-13 18:54:59.7719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (336ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-13 18:54:59.9695|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (195ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-13 18:54:59.9787|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:55:00.1869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-13 18:55:00.1869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 18:55:00.2349|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-13 18:55:00.2472|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-13 18:55:00.2918|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-13 18:55:00.4398|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-13 18:55:00.4461|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-13 18:55:00.4786|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 18:55:00.4786|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 18:55:00.5203|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-13 18:55:00.5203|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-13 18:55:00.5783|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-13 18:55:00.6381|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-13 18:55:00.6418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-13 18:55:00.6418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.6418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.6418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.6676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-13 18:55:00.6676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 18:55:00.6676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-13 18:55:00.6808|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-13 18:55:00.6808|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-13 18:55:00.7470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-13 18:55:00.8156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 18:55:00.8156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8314|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-13 18:55:00.8314|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-13 18:55:00.8314|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-13 18:55:00.8531|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8531|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8598|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8598|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8598|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-13 18:55:00.8598|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-13 18:55:00.8840|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.8869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-13 18:55:00.8869|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-13 18:55:00.9190|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.9367|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 18:55:00.9543|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 18:55:00.9543|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-13 18:55:00.9543|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-13 18:55:00.9826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-13 18:55:00.9826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-13 18:55:00.9883|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-13 18:55:01.0125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:55:01.0125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 18:55:01.0125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 18:55:01.0125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-13 18:55:01.0125|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-13 18:55:01.0783|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-13 18:55:01.0905|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:55:01.0905|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-13 18:55:01.0905|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-13 18:55:01.1229|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-13 18:55:01.1275|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-13 18:55:01.1525|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 18:55:01.1525|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-13 18:55:01.1588|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-13 18:55:01.1821|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-13 18:55:01.5839|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-13 18:55:03.2607|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-13 18:55:03.5450|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 246.6679ms
2023-02-13 18:55:08.9753|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 18:55:09.0061|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:55:09.0185|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 43.0378ms
2023-02-13 18:55:09.0185|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103
2023-02-13 18:55:09.0362|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:55:09.0362|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 18:55:09.0859|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 18:55:09.9100|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 18:55:10.0461|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-13 18:55:10.1797|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1067.1276ms
2023-02-13 18:55:10.1797|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 18:55:10.2383|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103 - 200 134 application/json;+charset=utf-8 1201.0541ms
2023-02-13 18:55:10.4488|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/1/accounts - -
2023-02-13 18:55:10.4488|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 18:55:10.4561|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-13 18:55:10.4710|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-13 18:55:11.2734|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (130ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 18:55:11.2913|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-13 18:55:11.3550|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 18:55:11.3659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 891.2528ms
2023-02-13 18:55:11.3659|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-13 18:55:11.3659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/1/accounts - - - 200 111 application/json;+charset=utf-8 927.3148ms
2023-02-13 19:09:07.4080|INFO|Bank.API.Program|Initializing application...
2023-02-13 19:09:16.5059|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 19:09:16.6922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-02-13 19:09:16.7234|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [AccountInfoDB];
2023-02-13 19:09:17.1184|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (274ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [AccountInfoDB];
2023-02-13 19:09:17.2425|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AccountInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-02-13 19:09:17.2513|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 19:09:17.4129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-02-13 19:09:17.4129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-02-13 19:09:17.4587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-13 19:09:17.4712|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-13 19:09:17.5054|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230112122455_AccountInfoDBInitialMigration'.
2023-02-13 19:09:17.6348|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] int NOT NULL IDENTITY,
    [Owner] nvarchar(50) NOT NULL,
    [Sum] real NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-02-13 19:09:17.6348|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Deposits] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Period] int NOT NULL,
    [DepositSum] real NOT NULL,
    [AccountId] int NOT NULL,
    CONSTRAINT [PK_Deposits] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Deposits_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-02-13 19:09:17.6932|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum])
VALUES (1, N'Gabor Andreea', CAST(2500 AS real)),
(2, N'Pavel Carmen', CAST(3200 AS real)),
(3, N'Wolf Lorena', CAST(2800 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 19:09:17.7077|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (1, 1, CAST(2000 AS real), N'Savings Deposit', 1),
(2, 1, CAST(500 AS real), N'Fixed Deposit', 12),
(3, 2, CAST(2200 AS real), N'Fixed Deposit', 6),
(4, 2, CAST(1000 AS real), N'Recurring Deposit', 1),
(5, 3, CAST(1200 AS real), N'Savings Deposit', 12),
(6, 3, CAST(1600 AS real), N'Current Deposit', 6);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 19:09:17.7077|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Deposits_AccountId] ON [Deposits] ([AccountId]);
2023-02-13 19:09:17.7077|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230112122455_AccountInfoDBInitialMigration', N'7.0.2');
2023-02-13 19:09:17.7422|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206140911_AccountInfoDBAddUsers'.
2023-02-13 19:09:17.8298|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [UserId] int NULL;
2023-02-13 19:09:17.8298|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Password] nvarchar(50) NOT NULL,
    [Admin] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-02-13 19:09:17.8784|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 19:09:17.8840|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 19:09:17.8840|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 19:09:17.9144|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Admin], [Email], [Name], [Password], [Username])
VALUES (1, CAST(0 AS bit), N'ioanagabor@gmail.com', N'Ioana Gabor', N'1234', N'ioanagabor'),
(2, CAST(0 AS bit), N'carmen2411@gmail.com', N'Pavel Carmen', N'1234', N'pavelcarme'),
(3, CAST(1 AS bit), N'andreeagabor@gmail.com', N'Deea Gabor', N'1234', N'deeagabor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Admin', N'Email', N'Name', N'Password', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2023-02-13 19:09:17.9144|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 19:09:17.9289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2023-02-13 19:09:17.9289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206140911_AccountInfoDBAddUsers', N'7.0.2');
2023-02-13 19:09:17.9289|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151030_AccountInfoDBAddUserIdForAccounts'.
2023-02-13 19:09:17.9924|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] DROP CONSTRAINT [FK_Accounts_Users_UserId];
2023-02-13 19:09:18.0697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (75ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Accounts_UserId] ON [Accounts];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Accounts]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Accounts] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Accounts] SET [UserId] = 0 WHERE [UserId] IS NULL;
ALTER TABLE [Accounts] ALTER COLUMN [UserId] int NOT NULL;
ALTER TABLE [Accounts] ADD DEFAULT 0 FOR [UserId];
CREATE INDEX [IX_Accounts_UserId] ON [Accounts] ([UserId]);
2023-02-13 19:09:18.0697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.0697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 2
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.0697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 3
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.0697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Accounts] ADD CONSTRAINT [FK_Accounts_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-02-13 19:09:18.0697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151030_AccountInfoDBAddUserIdForAccounts', N'7.0.2');
2023-02-13 19:09:18.0913|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206151654_AccountInfoDBEditDatabase'.
2023-02-13 19:09:18.1120|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.1120|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.1120|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Ioana'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.1120|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Name] = N'Gabor Andreea'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.1248|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206151654_AccountInfoDBEditDatabase', N'7.0.2');
2023-02-13 19:09:18.1248|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230206232605_AccountInfoDBNewEditDatabase'.
2023-02-13 19:09:18.1478|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Username] = N'pavelcarmen'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.1478|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230206232605_AccountInfoDBNewEditDatabase', N'7.0.2');
2023-02-13 19:09:18.1478|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153732_AccountInfoDBAddNewAccounts'.
2023-02-13 19:09:18.1900|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [Owner] = N'Pavel Carmen', [Sum] = CAST(200 AS real), [UserId] = 2
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.2173|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] ON;
INSERT INTO [Accounts] ([Id], [Owner], [Sum], [UserId])
VALUES (4, N'Gabor Ioana', CAST(2800 AS real), 2);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Owner', N'Sum', N'UserId') AND [object_id] = OBJECT_ID(N'[Accounts]'))
    SET IDENTITY_INSERT [Accounts] OFF;
2023-02-13 19:09:18.2387|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] ON;
INSERT INTO [Deposits] ([Id], [AccountId], [DepositSum], [Name], [Period])
VALUES (7, 4, CAST(100 AS real), N'Recurring Deposit', 6),
(8, 4, CAST(12 AS real), N'Savings Deposit', 12);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccountId', N'DepositSum', N'Name', N'Period') AND [object_id] = OBJECT_ID(N'[Deposits]'))
    SET IDENTITY_INSERT [Deposits] OFF;
2023-02-13 19:09:18.2387|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153732_AccountInfoDBAddNewAccounts', N'7.0.2');
2023-02-13 19:09:18.2387|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207153902_AccountInfoDBAddNewAccounts2'.
2023-02-13 19:09:18.2637|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Accounts] SET [UserId] = 1
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.2663|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207153902_AccountInfoDBAddNewAccounts2', N'7.0.2');
2023-02-13 19:09:18.2663|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230207174051_AccountInfoDBAddAttributes'.
2023-02-13 19:09:18.2898|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.3201|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.3201|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.3201|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230207174051_AccountInfoDBAddAttributes', N'7.0.2');
2023-02-13 19:09:18.3201|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210221808_AccountInfoDBModifyAttributes'.
2023-02-13 19:09:18.3735|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Users] ALTER COLUMN [Password] nvarchar(100) NOT NULL;
2023-02-13 19:09:18.3735|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.3735|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210221808_AccountInfoDBModifyAttributes', N'7.0.2');
2023-02-13 19:09:18.3735|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230210222506_AccountInfoDBModifyAttributesForLogin'.
2023-02-13 19:09:18.4092|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230210222506_AccountInfoDBModifyAttributesForLogin', N'7.0.2');
2023-02-13 19:09:18.4092|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230211234950_AccountInfoDBHashLoginRequest'.
2023-02-13 19:09:18.4360|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Users] SET [Password] = N'12345678'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2023-02-13 19:09:18.4391|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230211234950_AccountInfoDBHashLoginRequest', N'7.0.2');
2023-02-13 19:09:18.4391|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230212155300_AccountInfoDBUserIdAccounts'.
2023-02-13 19:09:18.4616|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230212155300_AccountInfoDBUserIdAccounts', N'7.0.2');
2023-02-13 19:09:18.8795|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\z004pj3h\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-13 19:09:20.7837|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/ - -
2023-02-13 19:09:20.9792|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/ - - - 404 0 - 194.7995ms
2023-02-13 19:09:42.7667|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 19:09:42.7667|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:09:42.7667|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 24.2868ms
2023-02-13 19:09:42.7984|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102
2023-02-13 19:09:42.7984|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:09:42.7984|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 19:09:42.8781|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 19:09:43.7453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 19:09:43.8382|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-13 19:09:43.9364|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 1043.953ms
2023-02-13 19:09:43.9385|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 19:09:43.9541|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 102 - 200 136 application/json;+charset=utf-8 1156.2436ms
2023-02-13 19:09:44.0888|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 19:09:44.0953|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:09:44.0953|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:09:44.1147|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:09:44.2084|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 19:09:44.2406|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:09:44.2406|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 131.2972ms
2023-02-13 19:09:44.2514|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:09:44.2514|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 170.5598ms
2023-02-13 19:09:53.8772|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - -
2023-02-13 19:09:53.8772|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:09:53.8772|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:09:53.8772|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-13 19:09:54.3367|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (90ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-13 19:09:54.3527|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-13 19:09:54.3695|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:09:54.3695|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 482.6415ms
2023-02-13 19:09:54.3906|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:09:54.4142|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - - - 200 131 application/json;+charset=utf-8 515.8905ms
2023-02-13 19:10:20.4333|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits?period=12 - -
2023-02-13 19:10:20.4333|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:10:20.4400|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:10:20.4400|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-13 19:10:20.4686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-13 19:10:20.4830|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__period_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Period] = @__period_1
2023-02-13 19:10:20.4861|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:10:20.5225|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 42.5596ms
2023-02-13 19:10:20.5432|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:10:20.5579|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits?period=12 - - - 200 2 application/json;+charset=utf-8 114.7387ms
2023-02-13 19:14:00.6567|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits?period=6 - -
2023-02-13 19:14:00.6695|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:00.6834|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:14:00.6917|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-13 19:14:00.6917|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-13 19:14:00.7057|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32), @__period_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0 AND [d].[Period] = @__period_1
2023-02-13 19:14:00.7057|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:14:00.7057|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 16.9735ms
2023-02-13 19:14:00.7057|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:14:00.7208|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits?period=6 - - - 200 64 application/json;+charset=utf-8 68.3169ms
2023-02-13 19:14:02.6904|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - -
2023-02-13 19:14:02.7089|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:02.7089|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:14:02.7201|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-13 19:14:02.7201|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-13 19:14:02.7201|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-13 19:14:02.7367|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:14:02.7367|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 17.0999ms
2023-02-13 19:14:02.7367|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:14:02.7367|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/2/deposits - - - 200 131 application/json;+charset=utf-8 60.0381ms
2023-02-13 19:14:09.6925|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 19:14:09.6925|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:09.6925|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:14:09.7047|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:14:09.7047|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 19:14:09.7047|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:14:09.7047|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 6.5932ms
2023-02-13 19:14:09.7047|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:14:09.7236|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 40.1055ms
2023-02-13 19:14:19.5473|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 19:14:19.5510|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:19.5510|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:14:19.5510|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:14:19.5650|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 19:14:19.5650|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:14:19.5650|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 10.6092ms
2023-02-13 19:14:19.5650|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:14:19.5821|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 222 application/json;+charset=utf-8 33.0080ms
2023-02-13 19:14:41.7217|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 19:14:41.7217|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:41.7217|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 5.4095ms
2023-02-13 19:14:41.7217|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103
2023-02-13 19:14:41.7217|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:41.7217|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 19:14:41.7217|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 19:14:41.7448|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 19:14:41.7448|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-13 19:14:41.7520|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 9.0099ms
2023-02-13 19:14:41.7520|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 19:14:41.7520|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103 - 200 134 application/json;+charset=utf-8 26.1325ms
2023-02-13 19:14:41.8777|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/1/accounts - -
2023-02-13 19:14:41.8777|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:41.8777|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-13 19:14:41.8777|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-13 19:14:41.9116|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 19:14:41.9224|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-13 19:14:41.9487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:14:41.9487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 63.6608ms
2023-02-13 19:14:41.9487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-13 19:14:41.9581|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/1/accounts - - - 200 111 application/json;+charset=utf-8 78.9675ms
2023-02-13 19:14:44.5287|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - -
2023-02-13 19:14:44.5339|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:14:44.5339|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:14:44.5339|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Deposits"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32, Int32) on controller Bank.API.Controllers.DepositsController (Bank.API).
2023-02-13 19:14:44.5339|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[Id] = @__accountId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-13 19:14:44.5481|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [d].[Id], [d].[AccountId], [d].[DepositSum], [d].[Name], [d].[Period]
FROM [Deposits] AS [d]
WHERE [d].[AccountId] = @__accountId_0
2023-02-13 19:14:44.5481|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.DepositDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:14:44.5481|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.DepositsController.GetDeposits (Bank.API) in 13.4024ms
2023-02-13 19:14:44.5481|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.DepositsController.GetDeposits (Bank.API)'
2023-02-13 19:14:44.5481|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts/1/deposits - - - 200 129 application/json;+charset=utf-8 34.4410ms
2023-02-13 19:15:31.4363|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:15:31.4435|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:15:31.4435|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 12.6858ms
2023-02-13 19:15:31.4592|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 38
2023-02-13 19:15:31.4592|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:15:31.4592|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:15:31.4592|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:15:31.6338|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:15:31.6883|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:15:31.7278|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 257.477ms
2023-02-13 19:15:31.7278|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:15:31.7278|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 38 - 201 78 application/json;+charset=utf-8 273.6502ms
2023-02-13 19:15:41.3842|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:15:41.3842|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:15:41.3938|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 10.0233ms
2023-02-13 19:15:41.3938|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 19:15:41.3938|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:15:41.3938|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:15:41.3938|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:15:41.3938|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:15:41.4223|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:15:41.4305|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 10.3788ms
2023-02-13 19:15:41.4305|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:15:41.4453|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 80 application/json;+charset=utf-8 40.2735ms
2023-02-13 19:15:50.2707|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:15:50.2707|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:15:50.2935|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 17.6860ms
2023-02-13 19:15:50.2935|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 44
2023-02-13 19:15:50.2989|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:15:50.2989|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:15:50.2989|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:15:50.2989|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:15:50.3130|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:15:50.3130|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 7.3164ms
2023-02-13 19:15:50.3130|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:15:50.3130|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 44 - 201 84 application/json;+charset=utf-8 28.7925ms
2023-02-13 19:16:01.6994|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:16:01.6994|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:01.6994|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 21.4375ms
2023-02-13 19:16:01.6994|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39
2023-02-13 19:16:01.6994|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:01.6994|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:01.7221|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:16:01.7221|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:16:01.7221|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:16:01.7221|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 7.326ms
2023-02-13 19:16:01.7221|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:01.7385|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39 - 201 79 application/json;+charset=utf-8 25.7046ms
2023-02-13 19:16:04.6614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 19:16:04.6614|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:04.6614|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:16:04.6614|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:16:04.6614|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 19:16:04.6804|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:16:04.6804|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 7.639ms
2023-02-13 19:16:04.6883|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:16:04.6883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 407 application/json;+charset=utf-8 32.3374ms
2023-02-13 19:16:24.4399|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:16:24.4399|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:24.4399|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 5.9473ms
2023-02-13 19:16:24.4399|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 19:16:24.4399|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:24.4399|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:24.4399|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:16:24.4690|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:16:24.4690|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:16:24.4813|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 9.0404ms
2023-02-13 19:16:24.4972|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:24.5049|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 80 application/json;+charset=utf-8 45.8121ms
2023-02-13 19:16:35.5911|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:16:35.5911|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:35.6040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 33.0890ms
2023-02-13 19:16:35.6040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41
2023-02-13 19:16:35.6040|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:35.6040|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:35.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:16:35.6173|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:16:35.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:16:35.6271|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 7.0748ms
2023-02-13 19:16:35.6271|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:35.6271|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41 - 201 82 application/json;+charset=utf-8 25.1317ms
2023-02-13 19:16:47.4709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:16:47.4709|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:47.4709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 5.5231ms
2023-02-13 19:16:47.4709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 19:16:47.4709|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:16:47.4880|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:47.4880|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:16:47.4880|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:16:47.4880|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:16:47.5019|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.7246ms
2023-02-13 19:16:47.5019|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:16:47.5019|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 201 81 application/json;+charset=utf-8 26.5882ms
2023-02-13 19:17:08.8592|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:17:08.8697|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:08.8907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 28.9567ms
2023-02-13 19:17:08.8984|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39
2023-02-13 19:17:08.8984|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:08.8984|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:08.8984|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:17:08.9104|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:17:08.9104|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:17:08.9104|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.7543ms
2023-02-13 19:17:08.9104|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:08.9240|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 39 - 201 80 application/json;+charset=utf-8 26.2069ms
2023-02-13 19:17:17.7290|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:17:17.7290|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:17.7486|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 16.3964ms
2023-02-13 19:17:17.7486|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40
2023-02-13 19:17:17.7622|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:17.7622|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:17.7622|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:17:17.7622|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:17:17.8527|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'Bank.API.Data.AccountInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:7de8ec4d-fc07-4a0d-9a63-31c85019bb7c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Users_UserId". The conflict occurred in database "AccountInfoDB", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:7de8ec4d-fc07-4a0d-9a63-31c85019bb7c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-02-13 19:17:17.9797|FATAL|Bank.API.Controllers.AccountsController|Exception while creating an account!
2023-02-13 19:17:17.9797|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String'.
2023-02-13 19:17:17.9865|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 211.8254ms
2023-02-13 19:17:17.9865|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:17.9865|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 40 - 500 - text/plain;+charset=utf-8 239.4904ms
2023-02-13 19:17:22.7016|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 38
2023-02-13 19:17:22.7044|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:22.7044|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:22.7044|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:17:22.7044|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:17:22.7200|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:17:22.7200|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 10.022ms
2023-02-13 19:17:22.7200|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:22.7200|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 38 - 201 79 application/json;+charset=utf-8 28.3892ms
2023-02-13 19:17:32.0475|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/accounts - -
2023-02-13 19:17:32.0475|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:32.0475|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/accounts - - - 204 - - 28.2285ms
2023-02-13 19:17:32.0712|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41
2023-02-13 19:17:32.0810|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:32.0810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:32.0810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateAccount", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateAccount(Bank.API.Data.Models.AccountCreationDTO) on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:17:32.0810|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = Single), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Owner], [Sum], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-02-13 19:17:32.0952|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing CreatedAtRouteResult, writing value of type 'Bank.API.Data.Models.AccountDTO'.
2023-02-13 19:17:32.0952|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.CreateAccount (Bank.API) in 8.4275ms
2023-02-13 19:17:32.0952|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.CreateAccount (Bank.API)'
2023-02-13 19:17:32.0952|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/accounts application/json;+charset=UTF-8 41 - 201 82 application/json;+charset=utf-8 36.5675ms
2023-02-13 19:17:35.2995|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 19:17:35.2995|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:17:35.2995|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:17:35.3136|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:17:35.3136|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 19:17:35.3136|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:17:35.3136|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 8.9629ms
2023-02-13 19:17:35.3310|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:17:35.3310|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 687 application/json;+charset=utf-8 35.5944ms
2023-02-13 19:18:05.0890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 19:18:05.0965|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:18:05.0965|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:18:05.0965|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:18:05.0965|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 19:18:05.1119|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:18:05.1119|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 11.2993ms
2023-02-13 19:18:05.1119|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:18:05.1280|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 687 application/json;+charset=utf-8 39.1476ms
2023-02-13 19:19:30.3242|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/accounts - -
2023-02-13 19:19:30.3242|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:19:30.3396|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:19:30.3480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAccounts", controller = "Accounts"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAccounts() on controller Bank.API.Controllers.AccountsController (Bank.API).
2023-02-13 19:19:30.3480|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
2023-02-13 19:19:30.3480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:19:30.3480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.AccountsController.GetAccounts (Bank.API) in 8.334ms
2023-02-13 19:19:30.3631|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.AccountsController.GetAccounts (Bank.API)'
2023-02-13 19:19:30.3631|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/accounts - - - 200 687 application/json;+charset=utf-8 40.9193ms
2023-02-13 19:22:46.1072|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:57658/api/login - -
2023-02-13 19:22:46.1139|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:22:46.1139|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:57658/api/login - - - 204 - - 19.5453ms
2023-02-13 19:22:46.1139|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103
2023-02-13 19:22:46.1283|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:22:46.1283|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 19:22:46.1283|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Bank.API.Data.Models.LoginRequest) on controller Bank.API.Controllers.LoginController (Bank.API).
2023-02-13 19:22:46.1283|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
2023-02-13 19:22:46.1283|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Bank.API.Data.Models.UserDTO'.
2023-02-13 19:22:46.1430|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.LoginController.Login (Bank.API) in 6.8582ms
2023-02-13 19:22:46.1430|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.LoginController.Login (Bank.API)'
2023-02-13 19:22:46.1430|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:57658/api/login application/json;+charset=UTF-8 103 - 200 134 application/json;+charset=utf-8 22.4570ms
2023-02-13 19:22:46.5237|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:57658/api/users/1/accounts - -
2023-02-13 19:22:46.5237|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2023-02-13 19:22:46.5237|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-13 19:22:46.5363|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetDeposits", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDeposits(Int32) on controller Bank.API.Controllers.UsersController (Bank.API).
2023-02-13 19:22:46.5363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Admin], [u].[Email], [u].[Name], [u].[Password], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-02-13 19:22:46.5363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Owner], [a].[Sum], [a].[UserId]
FROM [Accounts] AS [a]
WHERE [a].[UserId] = @__id_0
2023-02-13 19:22:46.5363|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bank.API.Data.Models.AccountWithoutDepositsDTO, Bank.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-13 19:22:46.5507|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Bank.API.Controllers.UsersController.GetDeposits (Bank.API) in 10.1801ms
2023-02-13 19:22:46.5507|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Bank.API.Controllers.UsersController.GetDeposits (Bank.API)'
2023-02-13 19:22:46.5507|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:57658/api/users/1/accounts - - - 200 342 application/json;+charset=utf-8 43.7809ms
